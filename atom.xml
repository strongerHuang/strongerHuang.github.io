<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EmbeddedDevelop</title>
  
  <subtitle>作者：strongerHuang</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.strongerhuang.com/"/>
  <updated>2019-03-21T04:32:20.229Z</updated>
  <id>http://www.strongerhuang.com/</id>
  
  <author>
    <name>strongerHuang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>STM32CubeMX系列教程</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程.html</id>
    <published>2019-03-21T04:30:00.000Z</published>
    <updated>2019-03-21T04:32:20.229Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>　　本文对【STM32CubeMX系列教程】做了整理并汇总，会随着该系列教程的更新而更新。</p><p>　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程也同步更新于<a href="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true" target="_blank" rel="noopener">微信公众号【嵌入式专栏】</a>，关注微信公众号回复【STM32CubeMX系列教程】即可查看。</p><a id="more"></a><h1 id="二、教程列表"><a href="#二、教程列表" class="headerlink" title="二、教程列表"></a>二、教程列表</h1><p><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程01_STM32Cube产品介绍.html">STM32CubeMX系列教程01_STM32Cube产品介绍</a><br><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明.html">STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明</a><br><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程03_创建并生成代码工程.html">STM32CubeMX系列教程03_创建并生成代码工程</a><br><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程04_STM32CubeMX各窗口界面描述.html">STM32CubeMX系列教程04_STM32CubeMX各窗口界面描述</a><br><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程05_File、Window、Help菜单说明.html">STM32CubeMX系列教程05_File、Window、Help菜单说明</a><br><a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程06_Project%20Manager工程管理器详细说明.html">STM32CubeMX系列教程06_Project Manager工程管理器详细说明</a></p><p>正在努力更新中，可关注我微信公众号查看最新消息……</p><h1 id="三、说明"><a href="#三、说明" class="headerlink" title="三、说明"></a>三、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="四、最后"><a href="#四、最后" class="headerlink" title="四、最后"></a>四、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;　　本文对【STM32CubeMX系列教程】做了整理并汇总，会随着该系列教程的更新而更新。&lt;/p&gt;
&lt;p&gt;　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程也同步更新于&lt;a href=&quot;https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;微信公众号【嵌入式专栏】&lt;/a&gt;，关注微信公众号回复【STM32CubeMX系列教程】即可查看。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程06_Project Manager工程管理器详细说明</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_Project%20Manager%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程06_Project Manager工程管理器详细说明.html</id>
    <published>2019-03-21T04:00:00.000Z</published>
    <updated>2019-03-21T04:36:20.334Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>STM32CubeMX的Project Manager工程管理器包含：<strong>Project工程管理、 Code Generator代码生成、 Advanced Settings高级设置</strong>三部分内容。</p><p>这三部分内容决定了工程的一些属性，相关的配置信息比较重要，也容易理解。初学者有必要掌握其中内容。</p><a id="more"></a><h1 id="二、Project工程管理"><a href="#二、Project工程管理" class="headerlink" title="二、Project工程管理"></a>二、Project工程管理</h1><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_Project%20Manager%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E/1.%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86.png?raw=true"><br></table><p><strong>Project工程管理</strong>包含三部分内容：<strong>Projcet Settings工程设置、 Linker Settings堆栈设置、 Mcu and Firmware Package MCU和固件包信息</strong>。</p><h2 id="2-1-Projcet-Settings工程设置"><a href="#2-1-Projcet-Settings工程设置" class="headerlink" title="2.1 Projcet Settings工程设置"></a>2.1 Projcet Settings工程设置</h2><p><strong>A.Project Name：工程名称</strong><br>比如：Demo.uvprojx，以及对应工程里面目标名称。</p><p><strong>B.Project Location：工程存放路径</strong><br>这个容易理解。如：D:\Desktop\Test.</p><p><strong>C.Application Struture：应用程序结构</strong><br>这里包含两个选项：Basic和Advanced。<br><strong>Basic：</strong>是基础的结构，一般不包含中间件（RTOS、文件系统、USB设备等）。</p><p><strong>Advanced：</strong>相反就是包含中间件，一般针对相对复杂一点的工程。</p><p>当然，这两种生成的结构都比较基础，一般实际项目都会重新整理一遍软件架构。</p><p><strong>D.Toolchain Folder Location：工具链文件夹路径</strong><br>这个是根据上面Project Name和Project Location得出来的，用户不能修改。</p><p><strong>E.Toolchain/IDE：工具链选择</strong><br>包含选项：<br><strong>·</strong>EWARM V7 和 V8<br><strong>·</strong>MDK-ARM V4 和 V5<br><strong>·</strong>TrueSTUDIO<br><strong>·</strong>SW4STM32<br><strong>·</strong>Makefile<br><strong>·</strong>其它</p><h2 id="2-2-Linker-Settings堆栈设置"><a href="#2-2-Linker-Settings堆栈设置" class="headerlink" title="2.2 Linker Settings堆栈设置"></a>2.2 Linker Settings堆栈设置</h2><p>这里的选项相信大家一看就明白，主要就是堆和栈大小的设置。<br>默认缺省值：<strong>Heap堆为0x200，Stack栈为0x400</strong>.</p><h2 id="2-3-Mcu-and-Firmware-Package-MCU和固件包信息"><a href="#2-3-Mcu-and-Firmware-Package-MCU和固件包信息" class="headerlink" title="2.3 Mcu and Firmware Package MCU和固件包信息"></a>2.3 Mcu and Firmware Package MCU和固件包信息</h2><p>这里有三个选项，关于MCU类型和固件包版本信息，一般默认配置。</p><p><strong>A.Mcu Reference：MCU参考型号</strong><br>这个是根据你选择的MCU型号决定的，用户不能修改。</p><p><strong>B.Firmware Package Name and Version：固件包名称和版本信息</strong><br>这个容易理解，如：STM32Cube_FW_F1_V1.7.0</p><p><strong>C.Use Default Firmware Location：使用默认固件包</strong><br>这里勾选上就会根据系统进行默认匹配固件包，一般建议默认。</p><p>当然，不勾选，可以自己选择指定固件包。</p><h1 id="三、Code-Generator代码生成"><a href="#三、Code-Generator代码生成" class="headerlink" title="三、Code Generator代码生成"></a>三、Code Generator代码生成</h1><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_Project%20Manager%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E/2.%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90.png?raw=true"><br></table><p>如上图，主要包含四项内容：<strong>固件包拷贝、生成文件、HAL设置、模板设置</strong>。</p><h2 id="3-1-STM32Cube-Firmware-Library-Package固件包拷贝"><a href="#3-1-STM32Cube-Firmware-Library-Package固件包拷贝" class="headerlink" title="3.1 STM32Cube Firmware Library Package固件包拷贝"></a>3.1 STM32Cube Firmware Library Package固件包拷贝</h2><p><strong>1.Copy all used libraries into the project folder</strong><br><strong>将所有使用过的库复制到项目文件夹中。</strong><br>不管你用，还是没有用到，都拷贝到你工程目录下。这样一来，你工程下文件就比较多。</p><p><strong>2.Copy only the necessary library files</strong><br><strong>只复制必要的库文件。</strong><br>这个相比上一个减少了很多文件。比如你没有使用CAN、SPI…等外设，就不会拷贝相关库文件到你工程下。</p><p><strong>3.Add necessary library files as reference in the toolchain project configuration file</strong><br><strong>在工具链项目配置文件中添加必要的库文件作为参考。</strong><br>这里没有复制HAL库文件，只添加了必要文件（如main.c）。相比上面，没有Drivers相关文件。</p><h2 id="3-2-Generated-files生成文件"><a href="#3-2-Generated-files生成文件" class="headerlink" title="3.2 Generated files生成文件"></a>3.2 Generated files生成文件</h2><p>这里可以多选，每项可选择：是or不是。</p><p><strong>1.Generate peripheral initialization as a pair of’.c/.h’ files per peripheral</strong><br><strong>每个外设生成独立的’.c/.h’文件</strong><br>不勾：所有初始化代码都生成在main.c<br>勾选：初始化代码生成在对应的外设文件。 如UART初始化代码生成在uart.c中。</p><p><strong>2.Backup previously generated files when re-generating</strong><br><strong>在重新生成时备份以前生成的文件</strong><br>重新生成代码时，会在相关目录中生成一个Backup文件夹，将之前源文件拷贝到其中。</p><p><strong>3.Keep User Code when re-generating</strong><br><strong>在重新生成时保留用户代码</strong><br>比如：我在main.c中添加了一段代码，重新生成时，会在main.c中保留你之前自己添加的这段代码。</p><p><strong>注意：</strong>前提是这段代码写在规定的位置。也就是BEGIN和END之间。否则同样会删除。</p><p><strong>4.Delete previously generated files when not re-generated</strong><br><strong>删除以前生成，但现在没有生成的文件</strong><br>比如：之前生成了spi.c，现在重新配置没有spi.c，则会删除之前的spi.c文件。</p><h2 id="3-3-HAL-SettingsHAL库设置"><a href="#3-3-HAL-SettingsHAL库设置" class="headerlink" title="3.3 HAL SettingsHAL库设置"></a>3.3 HAL SettingsHAL库设置</h2><p><strong>1.Set all free pins as analog (to optimize the power consumption) </strong><br><strong>将所有空闲引脚设置为模拟(以优化功耗)</strong><br>这个做低功耗产品时这个选项有必要勾选。</p><p><strong>2.Enable Full Assert</strong><br><strong>使能所有断言</strong><br>也就是参数检查。</p><h2 id="3-4-Template-Settings模板设置"><a href="#3-4-Template-Settings模板设置" class="headerlink" title="3.4 Template Settings模板设置"></a>3.4 Template Settings模板设置</h2><p><strong>1.Select a template to generate customized code</strong><br><strong>选择一个模板来生成自定义代码</strong><br>代码自定义生成模板可以参看最新（V28版）用户手册6.3节 Custom code generation内容。</p><h1 id="四、Advanced-Settings高级设置"><a href="#四、Advanced-Settings高级设置" class="headerlink" title="四、Advanced Settings高级设置"></a>四、Advanced Settings高级设置</h1><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_Project%20Manager%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E/3.%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE.png?raw=true"><br></table><p>目前主要两个选项：<strong>驱动选择和调用函数</strong>设置。</p><h2 id="4-1-驱动选择"><a href="#4-1-驱动选择" class="headerlink" title="4.1 驱动选择"></a>4.1 驱动选择</h2><p>目前主要就是针对工程中使用到的外设，选择HAL还是LL驱动（参看上图）。<br><strong>提示：</strong>目前有些型号MCU的部分外设没有LL驱动。</p><h2 id="4-2-调用函数"><a href="#4-2-调用函数" class="headerlink" title="4.2 调用函数"></a>4.2 调用函数</h2><p>主要关心后面两个选项：<strong>Not Generate Function Call和Visibility (Static)</strong>。</p><p><strong>1.Not Generate Function Call不生成函数调用</strong><br>也就是你代码不调用对应初始化函数。</p><p>比如：你GPIO项勾选Not Generate Function Call，你main.c函数中就不会调用MX_GPIO_Init这个函数。</p><p><strong>2.Visibility (Static)可见性(静态)</strong><br>这个就是初始化代码声明为static。</p><p><strong>提示：</strong><br><strong>A.</strong>有些选项是是默认值，不能修改。如SystemClock_Config配置不声明为ststic.</p><p><strong>B.</strong>使用static是配合上面Code Generator代码生成章节中Generated files生成文件使用。如果都生成.c .h独立文件了，就不会生成static了。</p><h1 id="五、说明"><a href="#五、说明" class="headerlink" title="五、说明"></a>五、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="六、最后"><a href="#六、最后" class="headerlink" title="六、最后"></a>六、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;STM32CubeMX的Project Manager工程管理器包含：&lt;strong&gt;Project工程管理、 Code Generator代码生成、 Advanced Settings高级设置&lt;/strong&gt;三部分内容。&lt;/p&gt;
&lt;p&gt;这三部分内容决定了工程的一些属性，相关的配置信息比较重要，也容易理解。初学者有必要掌握其中内容。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程05_File、Window、Help菜单说明</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程05_File、Window、Help菜单说明.html</id>
    <published>2019-03-19T03:30:00.000Z</published>
    <updated>2019-03-19T04:41:42.273Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>STM32CubeMX主界面菜单包含：<strong>File文件、Window窗口、Help帮助</strong>这三个菜单。</p><p>STM32CubeMX V5和V4版本菜单有差异，<strong>V4版本有5个菜单：File文件、Project工程、Pinout引脚输出、Window窗口、Help帮助</strong>。</p><p>大家可以看一下我16年在公众号写过的一篇讲解关于STM32CubeMX V4版本菜单的文章：<a href="https://mp.weixin.qq.com/s/cOdQSd-H0CIMVmDATelWwg" target="_blank" rel="noopener">STM32CubeMX使用方法及功能介绍</a></p><p>相信使用过V4版本的朋友都知道，V5版本将Project工程、Pinout引脚输出这两个菜单做在工程内部去了。</p><p>本文针对V5版本，详细讲述File、Window、Help这三个菜单。</p><a id="more"></a><h1 id="二、File文件"><a href="#二、File文件" class="headerlink" title="二、File文件"></a>二、File文件</h1><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E/1.File%E6%96%87%E4%BB%B6.png?raw=true"><br></table><p><strong>New Project：</strong>新建工程（Ctrl + N）<br><strong>Load Project：</strong>导入工程（Ctrl + L）<br><strong>Import Project：</strong>引入项目（Ctrl + I）<br><strong>Save Project：</strong>保存工程（Ctrl + S）<br><strong>Save Project As：</strong>另存工程（Ctrl + A）<br><strong>Close Project：</strong>关闭工程（Ctrl + C）<br><strong>Generate Report：</strong>生成报告（Ctrl + R）<br><strong>Recent Projects：</strong>最近工程<br><strong>Exit：</strong>退出软件（Ctrl + X）</p><p>这里File文件菜单有部分和<strong>主界面的Existing Projects已存在工程、New Project新建工程</strong>一样（上一篇文章有讲述）。</p><h1 id="三、Window窗口"><a href="#三、Window窗口" class="headerlink" title="三、Window窗口"></a>三、Window窗口</h1><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E/2.Window%E7%AA%97%E5%8F%A3%E8%8F%9C%E5%8D%95.png?raw=true"><br></table><p>STM32CubeMX的Window窗口菜单只有两项内容：<strong>Outputs输出信息、Font size字体大小</strong>。</p><p><strong>1.Outputs输出信息</strong><br>这项子菜单的功能会输出一些相关信息，如选中MCU型号、配置工程的一些输出信息等。</p><table><br><strong>Outputs输出信</strong>息动画效果：<br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E/3.Outputs%E8%BE%93%E5%87%BA%E4%BF%A1%E6%81%AF%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><p><strong>2.Font size字体大小</strong><br>字体大小主要有三种：<br><strong>Smaller：</strong>小号<br><strong>Mdeium：</strong>中号<br><strong>Larger：</strong>大号</p><p><strong>提示：</strong>需要重新启动STM32CubeMX才生效。</p><h1 id="四、Help帮助"><a href="#四、Help帮助" class="headerlink" title="四、Help帮助"></a>四、Help帮助</h1><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E/4.Help%E5%B8%AE%E5%8A%A9.png?raw=true"><br></table><p><strong>Help：</strong>帮助（F1）<br><strong>About：</strong>关于（Alt + A）<br><strong>Docs &amp; Resources：</strong>文档和资源（Alt + D）<br><strong>Refresh Data：</strong>更新数据（Alt + R）<br><strong>User Preferences：</strong>用户设定<br><strong>Check for Updates：</strong>检测更新（Alt + C）<br><strong>Manage embedded…：</strong>软件包管理（Alt + U）<br><strong>Updater Settings：</strong>更新设置（Alt + S）</p><p><strong>进一步说明：</strong><br><strong>Help帮助子菜单</strong>指向的就是STM32CubeMX的用户手册（PDF文档）。</p><p><strong>About关于</strong>指的是当前STM32CubeMX的版本信息。</p><p><strong>Refresh Data更新数据</strong>主要就是更新STM32CubeMX使用到的一些数据，如MCU/BOARD型号，文档，HAL库版本信息等。</p><p>点击子菜单<strong>“Check for Updates检测更新”</strong>会弹出需要更新的软件包。</p><p><strong>Manage embedded…软件包管理</strong>在前面文章都有讲述，包含安装、移除、更新软件包等。</p><p><strong>Updater Settings更新设置：</strong>这个子菜单包含多项内容。进入之后如下图：</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_File%E3%80%81Window%E3%80%81Help%E8%8F%9C%E5%8D%95%E8%AF%B4%E6%98%8E/5.%E6%9B%B4%E6%96%B0%E8%AE%BE%E7%BD%AE.png?raw=true"><br></table><p>包含Updater Settings更新设置和Connection Parameters链接参数。这里主要讲一下更新设置。</p><p><strong>1.固件资源</strong><br>Repository Folder资源文件夹，也就是我们更新HAL库的地址。</p><p><strong>2.检查和更新设置</strong><br><strong>Manual Check：</strong>手动检查<br><strong>Automatic Check：</strong>自动检查<br><strong>Interval between two Check（days）：</strong>间隔x天检查</p><p><strong>3.数据自动更新</strong><br><strong>No Auto-Refresh at Application start：</strong>启动应用程序时不自动刷新。<br><strong>Auto-Refresh Data-Only at Application start：</strong>只在启动应用程序时自动刷新数据。<br><strong>Auto-Refresh Data and Docs at Application start：</strong>在启动应用程序时自动刷新数据和文档。<br><strong>Interval between two data-refreshs（days）：</strong>间隔x天检查。</p><h1 id="五、说明"><a href="#五、说明" class="headerlink" title="五、说明"></a>五、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="六、最后"><a href="#六、最后" class="headerlink" title="六、最后"></a>六、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;STM32CubeMX主界面菜单包含：&lt;strong&gt;File文件、Window窗口、Help帮助&lt;/strong&gt;这三个菜单。&lt;/p&gt;
&lt;p&gt;STM32CubeMX V5和V4版本菜单有差异，&lt;strong&gt;V4版本有5个菜单：File文件、Project工程、Pinout引脚输出、Window窗口、Help帮助&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;大家可以看一下我16年在公众号写过的一篇讲解关于STM32CubeMX V4版本菜单的文章：&lt;a href=&quot;https://mp.weixin.qq.com/s/cOdQSd-H0CIMVmDATelWwg&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;STM32CubeMX使用方法及功能介绍&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;相信使用过V4版本的朋友都知道，V5版本将Project工程、Pinout引脚输出这两个菜单做在工程内部去了。&lt;/p&gt;
&lt;p&gt;本文针对V5版本，详细讲述File、Window、Help这三个菜单。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程04_STM32CubeMX各窗口界面描述</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程04_STM32CubeMX各窗口界面描述.html</id>
    <published>2019-03-19T00:30:00.000Z</published>
    <updated>2019-03-19T04:43:31.092Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>上一篇文章让你入门STM32CubeMX，你可能还是会觉得心里摸不到底。本文就从另外一个角度带你了解STM32CubeMX。</p><p>本文讲述STM32CubeMX各主要界面内容，让你对STM32CubeMX这个工具有一个比较直观的认识。</p><a id="more"></a><h1 id="二、主界面"><a href="#二、主界面" class="headerlink" title="二、主界面"></a>二、主界面</h1><p>打开STM32CubeMX，呈现的界面大致如下图，界面比较简洁。我把它划分为六大板块。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/1.%E4%B8%BB%E7%95%8C%E9%9D%A2.png?raw=true"><br></table><p><strong>1.菜单</strong><br>STM32CubexMX V4版本（前面老版本）有很多功能做在菜单里面，但V5版本优化（删减）菜单，把一些常用功能做在相应界面里面了。</p><p><strong>菜单内容后面会单独详细讲述。</strong></p><p><strong>2.社交链接</strong><br>facebook（脸书）、youtube、twitter（推特）以及ST社区、官网信息等。</p><p>相信大家都能理解，就像国内微信、微博、QQ等与ST相关的一些社交链接。</p><p><strong>3.面包屑导航</strong><br>这个名词可能很多人没听过，英文名叫Bread crumbs，中文名叫面包屑导航。当然，可以理解为导航栏。</p><p>进入配置界面，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/2.%E9%9D%A2%E5%8C%85%E5%B1%91%E5%AF%BC%E8%88%AA.png?raw=true"><br></table><p><strong>4.已存在工程</strong><br><strong>·Recent Opened Projects：</strong>最近打开的项目<br><strong>·Other Projects：</strong>打开其他已存在工程</p><p><strong>5.新建工程</strong><br><strong>·Start My project from MCU：</strong>从MCU开始我的项目<br><strong>·Start My project from STBoard：</strong>从ST开发板开始我的项目<br>这里是进入MCU/BOARD选择器，选择MCU型号和ST开发板型号（其中界面下面详细描述）。</p><p><strong>6.软件管理</strong><br><strong>·CHECK FOR UPDATE：</strong>检查更新<br><strong>·INSTALL/REMOVE：</strong>安装/移除软件</p><p>这里其实就是安装的软件进行管理，包含HAL库。安装的过程可以参看文章：<br>STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明</p><h1 id="三、MCU-BOARD选择器界面"><a href="#三、MCU-BOARD选择器界面" class="headerlink" title="三、MCU/BOARD选择器界面"></a>三、MCU/BOARD选择器界面</h1><p>MCU和BOARD选择器的界面类似，从上面主界面第5点新建工程进入。</p><p>选择器主要功能是：通过输入MCU/BOARD型号，或者按照特定条件（如MCU系列、FLASH大小、外设控制器数量等）来筛选符合自己条件的MCU/BOARD。</p><p>这里的选择器可以当做STM32的选型工具。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/3.%E9%80%89%E6%8B%A9%E5%99%A8.png?raw=true"><br></table><p><strong>1.MCU和BOARD选择器切换</strong><br>在这两种选择器之间进行切换，两种选择器界面包含类似。</p><p><strong>2.选择器“筛选”</strong><br>筛选的方式有两种：<br>A.通过输入型号<br>B.通过条件筛选</p><p><strong>3.描述</strong><br><strong>·Features：</strong>选中型号MCU/板卡特征<br><strong>·Block Diagram：</strong>框图<br><strong>·Doc&amp;Resources：</strong>文档和资源<br><strong>·Datasheet：</strong>数据手册下载（下载PDF文档）<br><strong>·Buy：</strong>购买（跳入官网）</p><p><strong>4.MCU/BOARD列表</strong><br>通过输入型号，或条件筛选之后，符合条件的MCU/BOARD列表。</p><table><br><strong>选择器界面</strong>动画效果：<br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/4.%E9%80%89%E6%8B%A9%E5%99%A8%E7%95%8C%E9%9D%A2%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><h1 id="四、Pinout引脚输出配置"><a href="#四、Pinout引脚输出配置" class="headerlink" title="四、Pinout引脚输出配置"></a>四、Pinout引脚输出配置</h1><p>这里翻译为引脚输出配置其实有点不正确，因为这里包含<strong>系统、外设资源、以及中间件等一些独立模块的配置</strong>。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/5.%E5%BC%95%E8%84%9A%E9%85%8D%E7%BD%AE.png?raw=true"><br></table><p>这一板块的信息量比较大，<strong>使用STM32CubeMX的重点和难点大部分在这一界面</strong>。</p><p>我主要把它划分为三块：<strong>资源、配置和引脚/系统预览</strong>。可能不同系列、不同型号的MCU这里的配置信息都不同。</p><p>这里不详细讲述，<strong>后期我会针对具体MCU实例的进行详细讲述</strong>。</p><h1 id="五、时钟配置"><a href="#五、时钟配置" class="headerlink" title="五、时钟配置"></a>五、时钟配置</h1><p>STM32各个系列的时钟都比较强大（请看时钟树），同时，各系列，各型号的时钟树也可能有差异。</p><p>STM32CubeMX的时钟配置具有强大的一个功能，重点是图形化界面，让人一看就明白。</p><p>同时，时钟配置里面有各种提示信息：比如可选择的分频倍频、最大时钟频率、警告错误提示等（如下图）。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/6.%E6%97%B6%E9%92%9F%E6%A0%91%E9%85%8D%E7%BD%AE.png?raw=true"><br></table><h1 id="六、工程管理"><a href="#六、工程管理" class="headerlink" title="六、工程管理"></a>六、工程管理</h1><p>这一章节内容对工程相关的配置比较重要，大部分可以默认。主要有三部分内容：工程管理、代码生成、高级设置。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/7.%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86%E5%99%A8.png?raw=true"><br></table><p>这里内容我后面单独写一篇文章详细讲述。</p><h1 id="七、工具"><a href="#七、工具" class="headerlink" title="七、工具"></a>七、工具</h1><p>目前工具这里包含两部分内容：<strong>PCC（Power Consumption Calculator）功耗计算、DDR Test Suite</strong>。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_STM32CubeMX%E5%90%84%E7%AA%97%E5%8F%A3%E7%95%8C%E9%9D%A2%E6%8F%8F%E8%BF%B0/8.%E5%B7%A5%E5%85%B7.png?raw=true"><br></table><p><strong>PCC</strong>这个功能应该用的比较多，开发低功耗相关产品这个功能可以用上这个工具。</p><p><strong>DDR Test Suite</strong>是一个目前（19年3月）只针对于STM32MP1系列，其他MCU没有这个功能。</p><p><strong>工具这项功能后期详细讲述。</strong></p><h1 id="八、说明"><a href="#八、说明" class="headerlink" title="八、说明"></a>八、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="九、最后"><a href="#九、最后" class="headerlink" title="九、最后"></a>九、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;上一篇文章让你入门STM32CubeMX，你可能还是会觉得心里摸不到底。本文就从另外一个角度带你了解STM32CubeMX。&lt;/p&gt;
&lt;p&gt;本文讲述STM32CubeMX各主要界面内容，让你对STM32CubeMX这个工具有一个比较直观的认识。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程03_创建并生成代码工程</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程03_创建并生成代码工程.html</id>
    <published>2019-03-16T07:30:00.000Z</published>
    <updated>2019-03-16T08:02:07.163Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>本文面向初学者，使用STM32CubeMX一步一步配置一个可直接编译下载，并成功运行的代码。</p><p>实践操作成功之后有了成就感，大家才会更加有信心继续学习下去。</p><p>本文只提供LED闪烁的简单实例讲解，<strong>重点是引导初学者入门</strong>。</p><p>更多实例（如UART、TIM、CAN…）我会单独整理一系列教程，并提供源码分析和下载。</p><a id="more"></a><h1 id="二、准备工作"><a href="#二、准备工作" class="headerlink" title="二、准备工作"></a>二、准备工作</h1><p>学习STM32CubeMX进行开发，需要有几样准备工作。</p><h2 id="2-1-下载安装STM32CubeMX及HAL库"><a href="#2-1-下载安装STM32CubeMX及HAL库" class="headerlink" title="2.1 下载安装STM32CubeMX及HAL库"></a>2.1 下载安装STM32CubeMX及HAL库</h2><p>请参看文章<a href="https://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明.html">《STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明》</a></p><p><strong>提示：</strong>下载安装MCU对应的HAL库就行。<br>比如：你开发板MCU是STM32F1系列，对应的STM32Cube_FW_F1就行。</p><h2 id="2-2-下载安装IDE"><a href="#2-2-下载安装IDE" class="headerlink" title="2.2 下载安装IDE"></a>2.2 下载安装IDE</h2><p>推荐使用大众化的MDK-ARM这款集成开发环境（IDE）。当然，还支持EWARM、 TureSTUDIO、 SW4STM32等集成开发环境。</p><p>请参看文章：<a href="https://www.strongerhuang.com/Keil/Keil系列教程.html">Keil系列教程</a></p><h2 id="2-3-准备硬件"><a href="#2-3-准备硬件" class="headerlink" title="2.3 准备硬件"></a>2.3 准备硬件</h2><p>学习STM32CubeMX，建议大家买一块开发板。某宝上面很多，根据自己经济能力，贵一点，便宜一点都行。以及准备一个ST-Link下载器。</p><p>推荐阅读：<a href="https://www.strongerhuang.com/ST-Link/ST-Link资料.html">ST-Link资料</a></p><h1 id="三、创建工程"><a href="#三、创建工程" class="headerlink" title="三、创建工程"></a>三、创建工程</h1><p>接下来从选择自己型号MCU，到生成代码并成功运行的创建过程。</p><p><strong>1.打开STM32CubeMX，进入MCU选择器</strong></p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/1.%E6%89%93%E5%BC%80%E8%BD%AF%E4%BB%B6.png?raw=true"><br></table><p>进入选择器时会联网更新数据库，可能需要等待一下。</p><p><strong>2.选择对应型号MCU</strong></p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/2.%E9%80%89%E6%8B%A9MCU.png?raw=true"><br></table><p><strong>3.时钟源选择</strong><br>如果选择使用外部高速时钟（HSE），则需要在System Core中配置RCC（如下图）。如果使用默认内部时钟（HSI），这一步可以略过。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/3.%E9%80%89%E6%8B%A9HSE.png?raw=true"><br></table><p><strong>4.选择GPIO（LED）引脚</strong><br>我们这里使用一个GPIO引脚（PF8）控制LED亮灭。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/4.%E9%85%8D%E7%BD%AELED%E5%BC%95%E8%84%9A.png?raw=true"><br></table><p><strong>5.配置时钟Clock</strong><br>STM32CubeMX配置时钟的界面非常方便，有很多提示（比如最大时钟），很多地方直接点击选择就行了。</p><p>默认高速时钟是使用内部（HSI），而且CPU时钟配置的比较低。以我选择的STM32F103，外部8M晶振为例（如下图）。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/5.%E6%97%B6%E9%92%9F%E9%85%8D%E7%BD%AE.png?raw=true"><br></table><p><strong>6.工程管理</strong><br>工程管理器的内容比较多，大部分都默认即可，这里讲述几个要点（如下图），更多选项后期详细讲述。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/6.%E9%85%8D%E7%BD%AE%E5%B7%A5%E7%A8%8B.png?raw=true"><br></table><p>IDE有几种，如果你不用MDK-ARM，也可选择其他IDE。</p><p><strong>7.生成代码</strong><br>以上操作就基本配置完成了一个简单的Demo工程，只需要点击“生成代码”即可。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/7.%E7%94%9F%E6%88%90%E5%B7%A5%E7%A8%8B.png?raw=true"><br></table><p><strong>8.添加代码</strong><br>当然，以上生成的代码还不够完善，需要<strong>添加自己的应用代码</strong>。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/8.%E6%B7%BB%E5%8A%A0%E4%BB%A3%E7%A0%81.png?raw=true"><br></table><p>添加如上图这样一段代码，你开发板上LED就会间隔500ms变化一次（呈现闪烁状态）。</p><p>添加应用代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HAL_Delay(500);</span><br><span class="line">HAL_GPIO_TogglePin(GPIOF, GPIO_PIN_8);</span><br></pre></td></tr></table></figure></p><p><strong>提示：</strong><br><strong>1.</strong>延时500ms时间需要你时钟配置正确。</p><p><strong>2.</strong>LED对应引脚需要与你开发实际一致（本文以PF8为例）。</p><p><strong>3.</strong>生成的MDK-ARM工程，编译下载之后，默认是不会运行代码，需要重新复位一次才能运行，或你自己配置一下（如下图）。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81%E5%B7%A5%E7%A8%8B/9.%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81.png?raw=true"><br></table><p>好啦，本文就讲到这里，是不是很简单？请根据自己开发板MCU型号，自己动手实践一下。</p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;本文面向初学者，使用STM32CubeMX一步一步配置一个可直接编译下载，并成功运行的代码。&lt;/p&gt;
&lt;p&gt;实践操作成功之后有了成就感，大家才会更加有信心继续学习下去。&lt;/p&gt;
&lt;p&gt;本文只提供LED闪烁的简单实例讲解，&lt;strong&gt;重点是引导初学者入门&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;更多实例（如UART、TIM、CAN…）我会单独整理一系列教程，并提供源码分析和下载。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程02_STM32CubeMX工具、HAL库下载、安装说明.html</id>
    <published>2019-03-15T03:00:00.000Z</published>
    <updated>2019-03-15T03:30:26.633Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>上一篇文章是对STM32CubeMX做了一个简单介绍，可能初学者看了之后也不是很理解。那么本文开始动手实践，<strong>实践也是快速掌握知识的一种办法</strong>。</p><p>本文针对初学者，内容比较基础，主要是给大家起引导作用。</p><p>包含：<strong>下载JRE、STM32CubeMX和HAL库三部分内容。HAL库的几种安装方式</strong>。</p><a id="more"></a><h1 id="二、下载"><a href="#二、下载" class="headerlink" title="二、下载"></a>二、下载</h1><p>本节主要下载内容：<strong>JRE、STM32CubeMX和HAL库</strong>。</p><h2 id="2-1-下载JRE"><a href="#2-1-下载JRE" class="headerlink" title="2.1 下载JRE"></a>2.1 下载JRE</h2><p>由于 STM32CubeMX 软件是基于 JAVA 环境运行的，所以需要安装 JRE （Java Runtime Environment）才能使用， <strong>建议到官网下载最新版本JRE</strong>。</p><p>地址：<a href="https://www.java.com/en/download/manual.jsp" target="_blank" rel="noopener">https://www.java.com/en/download/manual.jsp</a></p><p>根据自己操作系统选择下载，我是64位Win10。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/1.JRE%E4%B8%8B%E8%BD%BD.png?raw=true"><br></table><p>JRE百度网盘下载：<br><a href="https://pan.baidu.com/s/1LQ4AF_P4-7B8JlYpTUz0bQ" target="_blank" rel="noopener">https://pan.baidu.com/s/1LQ4AF_P4-7B8JlYpTUz0bQ</a><br>提取码：3h32</p><h2 id="2-2-下载STM32CubeMX和HAL库"><a href="#2-2-下载STM32CubeMX和HAL库" class="headerlink" title="2.2 下载STM32CubeMX和HAL库"></a>2.2 下载STM32CubeMX和HAL库</h2><p>官方地址：<a href="http://www.st.com/stm32cubemx" target="_blank" rel="noopener">www.st.com/stm32cubemx</a></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/2.%E4%B8%8B%E8%BD%BDSTM32CubeMX%E5%92%8CHAL%E5%BA%93.png?raw=true"><br></table><p>目前（2019年03月）最新STM32CubeMX版本为V5.1.0，各MCU HAL库最新版本也可以到官网下载。</p><p>到官网下载需注册账号，如觉得麻烦，可以到我百度网盘下载，我定期更新。</p><p>百度网盘地址：<br><a href="http://pan.baidu.com/s/1dFMFwHF" target="_blank" rel="noopener">http://pan.baidu.com/s/1dFMFwHF</a></p><p><strong>提示：</strong>网盘链接后期可能会失效。</p><h1 id="三、安装"><a href="#三、安装" class="headerlink" title="三、安装"></a>三、安装</h1><p>上面下载<strong>JRE、STM32CubeMX和HAL库</strong>三样内容是准备工作，本节就是实践安装工作（以Win10为例）。</p><h2 id="3-1-安装JRE"><a href="#3-1-安装JRE" class="headerlink" title="3.1 安装JRE"></a>3.1 安装JRE</h2><p>1.双击（或以管理员方式运行）离线包，点击安装。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/3.JRE%E5%AE%89%E8%A3%85.png?raw=true"><br></table><p>2.提示信息，点击确认</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/4.%E6%8F%90%E7%A4%BA.png?raw=true"><br></table><p>3.一路按照提示下去，直到安装成功。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/5.%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png?raw=true"><br></table><h2 id="3-2-安装STM32CubeMX"><a href="#3-2-安装STM32CubeMX" class="headerlink" title="3.2 安装STM32CubeMX"></a>3.2 安装STM32CubeMX</h2><p>现在（2019年03月）最新版本为V5.1.0， 支持安装的系统如下：<br><strong>Windows：</strong>7、 8、 10 （32 64位）<br><strong>Linux：</strong>RedHat, Ubuntu and Fedora（32 64位）<br><strong>macOS：</strong>OS X El Capitan and Sierra</p><p>安装STM32CubeMX比较简单，<strong>基本一路Next下去就行</strong>。</p><p>解压下载的STM32CubeMX-5.1.0.zip，若基于Windows，双击SetupSTM32CubeMX-5.1.0.exe即可进入安装就绪。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/6.%E5%AE%89%E8%A3%85STM32CubeMX.png?raw=true"><br></table><p>勾选相应的选项即可</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/7.%E5%90%8C%E6%84%8F%E5%8D%8F%E8%AE%AE.png?raw=true"><br></table><p>遇到提示点“Yes”</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/8.YES.png?raw=true"><br></table><p>到最后安装完成</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/9.%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90.png?raw=true"><br></table><h3 id="3-3-安装HAL库"><a href="#3-3-安装HAL库" class="headerlink" title="3.3 安装HAL库"></a>3.3 安装HAL库</h3><p>HAL库，也可理解为软件包，有<strong>在线安装、离线安装</strong>两种方式。</p><h2 id="3-3-1-在线安装"><a href="#3-3-1-在线安装" class="headerlink" title="3.3.1 在线安装"></a>3.3.1 在线安装</h2><p>打开安装好的 STM32CubeMX 软件， 进入库管理界面（Help -&gt; Manage embedded…），会有一个列表， 勾选上你要安装的HAL库， 点击“Install Now” 直到安装成功。 如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/10.%E8%BF%9B%E5%85%A5%E5%BA%93%E7%AE%A1%E7%90%86.png?raw=true"><br></table><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/11.%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85.png?raw=true"><br></table><p>这种方式比较简单，需要联网在线下载，可能需要等待一段时间。如果刷新之后，可以看到最新版本，以及一些老版本HAL库。</p><h3 id="3-3-2-离线安装"><a href="#3-3-2-离线安装" class="headerlink" title="3.3.2 离线安装"></a>3.3.2 离线安装</h3><p>离线安装的前提是需要下载好离线包，方法有两种：1.从库管理界面直接导入离线包。2.直接解压离线包到指定路径下。</p><p><strong>1.导入离线包</strong></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/12.%E5%AF%BC%E5%85%A5%E7%A6%BB%E7%BA%BF%E5%8C%85.png?raw=true"><br></table><p><strong>2.直接解压</strong><br>Help -&gt; Updater Settings得到HAL库路径</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/13.%E8%B7%AF%E5%BE%84.png?raw=true"><br></table><p>直接解压HAL库离线包，注意路径、文件夹名需一致：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_STM32CubeMX%E5%B7%A5%E5%85%B7%E3%80%81HAL%E5%BA%93%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/14.%E8%A7%A3%E5%8E%8B%E4%BD%8D%E7%BD%AE.png?raw=true"><br></table><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;上一篇文章是对STM32CubeMX做了一个简单介绍，可能初学者看了之后也不是很理解。那么本文开始动手实践，&lt;strong&gt;实践也是快速掌握知识的一种办法&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;本文针对初学者，内容比较基础，主要是给大家起引导作用。&lt;/p&gt;
&lt;p&gt;包含：&lt;strong&gt;下载JRE、STM32CubeMX和HAL库三部分内容。HAL库的几种安装方式&lt;/strong&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>STM32CubeMX系列教程01_STM32Cube产品介绍</title>
    <link href="http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B01_STM32Cube%E4%BA%A7%E5%93%81%E4%BB%8B%E7%BB%8D.html"/>
    <id>http://www.strongerhuang.com/STM32Cube/STM32CubeMX/STM32CubeMX系列教程01_STM32Cube产品介绍.html</id>
    <published>2019-03-13T08:30:00.000Z</published>
    <updated>2019-03-15T03:26:52.938Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>之前开发STM32，大家常见的就是使用寄存器、或者标准外设库进行开发。</p><p>但是，从15、16年开始，ST逐渐停止了对标准外设库的更新和维护，转向了HAL和LL库。</p><p><strong>·SPL：</strong>Standard Peripheral Library标准外设库<br><strong>·HAL：</strong>Hardware Abstraction Layer硬件抽象层库<br><strong>·LL：</strong>Low-layer底层库</p><a id="more"></a><p>我写STM32CubeMX系列教程有两个原因：</p><p><strong>1.</strong>停止标准库更新，使用STM32CubeMX配置HAL/LL库是主流；</p><p><strong>2.</strong>网上关于STM32CubeMX的教程相对凌乱，没有系统的进行讲解。</p><p>该系列教程会从基础开始写起，以及<strong>结合实例代码详细讲述</strong>。后面实例我计划另开分支，比如针对F1系列就开一个关于F1分支的教程。</p><h1 id="二、关于STM32CubeMX"><a href="#二、关于STM32CubeMX" class="headerlink" title="二、关于STM32CubeMX"></a>二、关于STM32CubeMX</h1><p><strong>STM32CubeMX是一个图形化的软件配置工具，使用图形向导可以生成STM32初始化代码工程。</strong></p><p>STM32CubeMX这个工具是ST目前重点打造的工具，目的就是为了方便开发者，节约时间，提高开发效率</p><p>官方地址：<a href="https://www.st.com/stm32cubemx" target="_blank" rel="noopener">https://www.st.com/stm32cubemx</a></p><p>STM32CubeMX特性：</p><p><strong>1.直观的选择 STM32 微控制器（MCU）和微处理器（MPU）。</strong></p><p><strong>2.丰富易用的图形化界面:</strong><br>-自动解决配置冲突<br>-具有参数约束动态验证的外设和中间件功能模式<br>-时钟树与配置的动态验证<br>-功耗预测</p><p><strong>3.生成初始化代码工程，包含：EWARM、 MDK-ARM、 TureSTUDIO、 SW4STM32等。</strong></p><p><strong>4.针对部分MPU生成Linux设备树。</strong></p><p><strong>5.可独立运行在Windows、Linux和macOS上使用，或作为 Eclipse 插件使用。</strong></p><p>当然，以上特性来自官网，初学者需要自己安装使用之后才会逐渐了解它，下面给一段关于STM32CubeMX V5的视频介绍：</p><iframe height="576" width="1024" src="https://v.qq.com/x/page/w1357pq5awy.html?start=undefined" frameborder="0" allowfullscreen><br></iframe><h1 id="三、STM32Cube子集介绍"><a href="#三、STM32Cube子集介绍" class="headerlink" title="三、STM32Cube子集介绍"></a>三、STM32Cube子集介绍</h1><p>上面介绍了STM32CubeMX，其实STM32CubeMX是STM32Cube的一个子集，因为STM32Cube包含多项内容。</p><p>一张图了解STM32Cube：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/STM32Cube/STM32CubeMX/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B01_STM32Cube%E4%BA%A7%E5%93%81%E4%BB%8B%E7%BB%8D/1.STM32Cube%E5%AD%90%E7%B1%BB.jpg?raw=true"><br></table><h2 id="3-1-软件开发工具"><a href="#3-1-软件开发工具" class="headerlink" title="3.1 软件开发工具"></a>3.1 软件开发工具</h2><p>一套用户友好的软件开发工具，涵盖从概念到实现的项目开发的所有阶段。<br><strong>STM32CubeMX：</strong>一个图形化的软件配置工具，可以自动生成C使用图形向导初始化代码（也是该教程的重要工具）。</p><p><strong>STM32CubeProgrammer(STM32CubeProg)：</strong>图形化和命令行版本的编程工具。</p><p><strong>STM32CubeMonitor-Power(STM32CubeMonPwr)：</strong>一种用于测量和帮助的监控工具优化单片机的功耗。</p><h2 id="3-2-STM32Cube™-软件包"><a href="#3-2-STM32Cube™-软件包" class="headerlink" title="3.2 STM32Cube™ 软件包"></a>3.2 STM32Cube™ 软件包</h2><p><strong>STM32Cube HAL：</strong>一套针对特定系列MCU的硬件抽象层（HAL），如STM32Cube_FW_G0。确保整个STM32组合的可移植性。</p><p><strong>STM32Cube LL：</strong>一套针对MCU底层的库，确保最佳的性能。</p><p><strong>中间件组件：</strong>如RTOS, USB, TCP/IP。</p><p><strong>例程：</strong>所有嵌入式软件实用程序与全套外设应用的例程。</p><p>更多相关内容可参看我微信公众号『strongerHuang』分享的一篇文章：<br><a href="https://mp.weixin.qq.com/s/iOct8TWF1P6OwfZ4w7RTbA" target="_blank" rel="noopener">STM32Cube到底包含哪些工具？</a></p><p>本文就介绍到这里，更多重要信息请进入官网查看：<a href="https://www.st.com/stm32cubemx" target="_blank" rel="noopener">https://www.st.com/stm32cubemx</a></p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号『<strong>嵌入式专栏</strong>』，关注微信公众号回复【STM32CubeMX系列教程】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的知乎：<a href="https://www.zhihu.com/people/strongerHuang.com" target="_blank" rel="noopener">strongerHuang</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;之前开发STM32，大家常见的就是使用寄存器、或者标准外设库进行开发。&lt;/p&gt;
&lt;p&gt;但是，从15、16年开始，ST逐渐停止了对标准外设库的更新和维护，转向了HAL和LL库。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;·SPL：&lt;/strong&gt;Standard Peripheral Library标准外设库&lt;br&gt;&lt;strong&gt;·HAL：&lt;/strong&gt;Hardware Abstraction Layer硬件抽象层库&lt;br&gt;&lt;strong&gt;·LL：&lt;/strong&gt;Low-layer底层库&lt;/p&gt;
    
    </summary>
    
      <category term="STM32CubeMX系列教程" scheme="http://www.strongerhuang.com/categories/STM32CubeMX%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="STM32CubeMX" scheme="http://www.strongerhuang.com/tags/STM32CubeMX/"/>
    
      <category term="LL库" scheme="http://www.strongerhuang.com/tags/LL%E5%BA%93/"/>
    
      <category term="HAL库" scheme="http://www.strongerhuang.com/tags/HAL%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%99.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料.html</id>
    <published>2019-02-22T03:00:00.000Z</published>
    <updated>2019-02-22T03:15:56.056Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>　　本文对【ST-Link资料】做了整理并汇总，会随着该系列教程的更新而更新。</p><p>　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于<a href="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true" target="_blank" rel="noopener">微信公众号【嵌入式专栏】</a>，关注微信公众号回复【ST-Link资料】即可查看。</p><a id="more"></a><h1 id="二、教程列表"><a href="#二、教程列表" class="headerlink" title="二、教程列表"></a>二、教程列表</h1><p><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料01_ST-Link介绍，认识各版本硬件及特征.html">ST-Link资料01_ST-Link介绍，认识各版本硬件及特征</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料02_ST-Link固件介绍，及固件命名规则.html">ST-Link资料02_ST-Link固件介绍，及固件命名规则</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料03_ST-Link固件升级、驱动下载安装方法.html">ST-Link资料03_ST-Link固件升级、驱动下载安装方法</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料04_ST-Link编程应用，以及指示灯说明.html">ST-Link资料04_ST-Link编程应用，以及指示灯说明</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料05_自制ST-Link（提供原理图及hex和bin固件）.html">ST-Link资料05_自制ST-Link（提供原理图及hex和bin固件）</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料06_与ST-Link相关的STSW-LINK004、007、008、009各是什么？.html">ST-Link资料06_与ST-Link相关的STSW-LINK004、007、008、009各是什么？</a></p><p>正在努力更新中，可关注我微信公众号查看最新消息……</p><h1 id="三、说明"><a href="#三、说明" class="headerlink" title="三、说明"></a>三、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="四、最后"><a href="#四、最后" class="headerlink" title="四、最后"></a>四、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;　　本文对【ST-Link资料】做了整理并汇总，会随着该系列教程的更新而更新。&lt;/p&gt;
&lt;p&gt;　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于&lt;a href=&quot;https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;微信公众号【嵌入式专栏】&lt;/a&gt;，关注微信公众号回复【ST-Link资料】即可查看。&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料06_与ST-Link相关的STSW-LINK004、007、008、009各是什么？</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9906_%E4%B8%8EST-Link%E7%9B%B8%E5%85%B3%E7%9A%84STSW-LINK004%E3%80%81007%E3%80%81008%E3%80%81009%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料06_与ST-Link相关的STSW-LINK004、007、008、009各是什么？.html</id>
    <published>2019-02-22T02:30:00.000Z</published>
    <updated>2019-02-22T03:29:25.564Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>前面文章也陆陆续续对ST-Link相关的一些内容进行了讲述，其中也拓展了一些相关内容，如果没有阅读，建议先从前面开始看起。</p><p>很多人看到<strong>STSW-LINK004、STSW-LINK007、STSW-LINK008、STSW-LINK009</strong>这些内容就不明白到底是什么了。</p><p>这里暂且对这四项与ST-Link内容再进行综合概述和对比一下。</p><a id="more"></a><h1 id="二、STSW-LINK004"><a href="#二、STSW-LINK004" class="headerlink" title="二、STSW-LINK004"></a>二、STSW-LINK004</h1><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link004.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link004.html</a></p><p><strong>STSW-LINK004指的是STM32 ST-LINK Utility</strong>，一款用于编程STM32微控制器的全功能软件。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9906_%E4%B8%8EST-Link%E7%9B%B8%E5%85%B3%E7%9A%84STSW-LINK004%E3%80%81007%E3%80%81008%E3%80%81009%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/1.STSW-LINK004.png?raw=true"><br></table><p>STM32 ST-LINK Utility提供了多种功能，<strong>可对STM32内部存储器</strong>（(Flash、RAM、OTP等），<strong>外部存储器进行编程，以验证编程内容</strong>（校验和，编程期间和之后验证，与文件进行比较）以及自动执行STM32编程。</p><p><strong>主要特点</strong><br>免费软件<br>支持.s19、 .hex和.bin格式文件<br>加载、编辑和保存可执行文件和数据文件<br>擦除，编程，查看和验证设备FLASH内容<br>自动执行STM32编程（擦除，验证，编程，配置选项字节，计算校验和）<br>编程一次可编程存储器<br>支持编程和配置选项字节<br>提供命令行界面<br>比较文件与目标内存<br>在实时更新模式下支持内存和核心状态视图<br>ST-LINK固件升级</p><h1 id="三、STSW-LINK007"><a href="#三、STSW-LINK007" class="headerlink" title="三、STSW-LINK007"></a>三、STSW-LINK007</h1><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link007.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link007.html</a></p><p>STSW-LINK007在前面文章中有提到，<strong>是ST-LINK、ST-LINK/V2、ST-LINK/V2-1和STLINK-V3的固件升级工具包</strong>。</p><p>该升级工具包有两种版本：<strong>Windows平台版和全平台（Windows、Linux、MacOS）版</strong>。</p><p><strong>Windows平台版：</strong></p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9906_%E4%B8%8EST-Link%E7%9B%B8%E5%85%B3%E7%9A%84STSW-LINK004%E3%80%81007%E3%80%81008%E3%80%81009%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/2.STSW-LINK007.png?raw=true"><br></table><p>目前（2019年02月）最新的固件为：<br><strong>ST-LINK：</strong>V1J13S4.<br><strong>ST-LINK/V2：</strong>V2J33S7.<br><strong>ST-LINK/V2-1：</strong>V2J33M25 (STM32) 或 V2M25S7 (STM8).<br><strong>STLINK-V3SET：</strong>V3J3M2B3S1.</p><p><strong>提示：</strong><br>如果大家要对ST-Link进行升级，建议使用该升级工具包。</p><h1 id="四、STSW-LINK008"><a href="#四、STSW-LINK008" class="headerlink" title="四、STSW-LINK008"></a>四、STSW-LINK008</h1><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link008.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link008.html</a></p><p>STSW-LINK008是ST-LINK/V2-1的USB驱动，支持Windows Vista, 7 and 8。</p><p>目前STSW-LINK008是比较老的版本，官方只保留，没有进行更新了。因为有最新的USB驱动包（STSW-LINK009）替代了该驱动包。（请见下一章节）</p><p><strong>提示：</strong><br>该功驱动比较老了，不建议大家再使用它。</p><h1 id="五、STSW-LINK009"><a href="#五、STSW-LINK009" class="headerlink" title="五、STSW-LINK009"></a>五、STSW-LINK009</h1><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link009.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link009.html</a></p><p>STSW-LINK009是<strong>基于ST-LINK， ST-LINK/V2， ST-LINK/V2-1， ST-LINK-V3的驱动</strong>，支持32或64位Windows 7、 8、 10操作系统。</p><p>STSW-LINK009也是目前官方重点更新和维护的驱动，想要更新ST-Link驱动的朋友，建议使用这个STSW-LINK009。</p><h1 id="六、四项内容综合说明"><a href="#六、四项内容综合说明" class="headerlink" title="六、四项内容综合说明"></a>六、四项内容综合说明</h1><p>上面章节也把这四项内容都一一列举出来说明一下，相信大家都进一步了解了这四项内容。</p><p>我这里也再综合进行说明一下，看大家都发现了这些问题没有。</p><h2 id="6-1-网址对比"><a href="#6-1-网址对比" class="headerlink" title="6.1 网址对比"></a>6.1 网址对比</h2><p><a href="http://www.st.com/en/development-tools/stsw-link004.html" target="_blank" rel="noopener">www.st.com/en/development-tools/stsw-link004.html</a><br><a href="http://www.st.com/en/development-tools/stsw-link007.html" target="_blank" rel="noopener">www.st.com/en/development-tools/stsw-link007.html</a><br><a href="http://www.st.com/en/development-tools/stsw-link008.html" target="_blank" rel="noopener">www.st.com/en/development-tools/stsw-link008.html</a><br><a href="http://www.st.com/en/development-tools/stsw-link009.html" target="_blank" rel="noopener">www.st.com/en/development-tools/stsw-link009.html</a></p><p>细心的朋友会发现，网址就只差一个字符，也方便记忆。你发现一些什么规律吗？</p><h2 id="6-2-状态说明"><a href="#6-2-状态说明" class="headerlink" title="6.2 状态说明"></a>6.2 状态说明</h2><p>STSW-LINK004、STSW-LINK007、STSW-LINK009处于活跃（Active）状态。</p><p>STSW-LINK008处于不推荐（NRND）状态。</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9906_%E4%B8%8EST-Link%E7%9B%B8%E5%85%B3%E7%9A%84STSW-LINK004%E3%80%81007%E3%80%81008%E3%80%81009%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/3.%E6%B4%BB%E8%B7%83%E7%8A%B6%E6%80%81.png?raw=true"><br></table><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9906_%E4%B8%8EST-Link%E7%9B%B8%E5%85%B3%E7%9A%84STSW-LINK004%E3%80%81007%E3%80%81008%E3%80%81009%E5%90%84%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/5.%E4%B8%8D%E6%8E%A8%E8%8D%90%E7%8A%B6%E6%80%81.png?raw=true"><br></table><p>所以，不推荐STSW-LINK008用于新设计。</p><h2 id="6-3-全套工具"><a href="#6-3-全套工具" class="headerlink" title="6.3 全套工具"></a>6.3 全套工具</h2><p><strong>USB驱动</strong>（STSW-LINK009）、<strong>固件升级</strong>（STSW-LINK007）、<strong>编程工具</strong>（STSW-LINK004）。</p><p>不知道大家发现没有，这四项内容几乎包含了ST-Link的全套工具。</p><h2 id="6-4-拓展（硬件）"><a href="#6-4-拓展（硬件）" class="headerlink" title="6.4 拓展（硬件）"></a>6.4 拓展（硬件）</h2><p>除了STSW-LINK00x这四项内容，还有就是ST-link硬件（V1、 V2、 V3）的内容，这里不多说，给出网址：<br><a href="http://www.st.com/en/development-tools/st-link.html" target="_blank" rel="noopener">www.st.com/en/development-tools/st-link.html</a><br><a href="http://www.st.com/en/development-tools/st-link-v2.html" target="_blank" rel="noopener">www.st.com/en/development-tools/st-link-v2.html</a><br><a href="http://www.st.com/en/development-tools/stlink-v3set.html" target="_blank" rel="noopener">www.st.com/en/development-tools/stlink-v3set.html</a></p><p>（再次提示一下，对比网址你能发现一些规律）</p><h1 id="七、说明"><a href="#七、说明" class="headerlink" title="七、说明"></a>七、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="八、最后"><a href="#八、最后" class="headerlink" title="八、最后"></a>八、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;前面文章也陆陆续续对ST-Link相关的一些内容进行了讲述，其中也拓展了一些相关内容，如果没有阅读，建议先从前面开始看起。&lt;/p&gt;
&lt;p&gt;很多人看到&lt;strong&gt;STSW-LINK004、STSW-LINK007、STSW-LINK008、STSW-LINK009&lt;/strong&gt;这些内容就不明白到底是什么了。&lt;/p&gt;
&lt;p&gt;这里暂且对这四项与ST-Link内容再进行综合概述和对比一下。&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料05_自制ST-Link（提供原理图及hex和bin固件）</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9905_%E8%87%AA%E5%88%B6ST-Link%EF%BC%88%E6%8F%90%E4%BE%9B%E5%8E%9F%E7%90%86%E5%9B%BE%E5%8F%8Ahex%E5%92%8Cbin%E5%9B%BA%E4%BB%B6%EF%BC%89.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料05_自制ST-Link（提供原理图及hex和bin固件）.html</id>
    <published>2019-02-21T03:30:00.000Z</published>
    <updated>2019-02-21T03:44:52.048Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>ST-Link的PCB和固件，官方是没有公开的。固件只能通过升级工具进行升级。</p><p>关于自制ST-Link的教程在网上比较多，国内外很多电子爱好者都手动自制成功过ST-Link。</p><p>某宝上买的山寨ST-Link就是电子爱好者做出来的，大多山寨ST-Link是集成SWD和SWIM这两类接口。<br><strong>SWD：</strong>用于STM32编程和调试；<br><strong>SWIM：</strong>用于STM8编程和调试；</p><p>这篇文章也算是完善该教程，总结了网上各爱好者的经验。自制ST-Link方法大概分如下几步：<br><strong>·获取ST-Link固件</strong><br><strong>·设计ST-Link原理图和PCB</strong>（并制作、焊接元器件）<br><strong>·下载并更新ST-Link固件</strong><br><strong>·插上电脑验证，并连接目标板测试</strong></p><a id="more"></a><h1 id="二、获取固件"><a href="#二、获取固件" class="headerlink" title="二、获取固件"></a>二、获取固件</h1><p>由于官方没有将ST-Link里面源码公开，同时也没有直接给出ST-Link固件（读保护），只能通过“非法”手段获取：<br><strong>方法一：</strong>下载网上流传的V2.J16.S4版本固件（可以找找其他版本）。<br><strong>方法二：</strong>某宝上找人破解芯片，获取ST官方ST-Link固件。</p><p><strong>方法一简单省事</strong>，但只能获取固定的V2.J16.S4类型的版本（文末也提供这一版本的hex和bin文件下载）。</p><p><strong>方法二可以获取不同类型的ST-Link固件</strong>，但这个破解费相对较贵，一般对于个人爱好者不建议。</p><p>综合，我们选择获取<strong>网上流传的V2.J16.S4版本固件</strong>来自制ST-Link。（文末提供下载）。</p><h1 id="三、设计原理图和PCB"><a href="#三、设计原理图和PCB" class="headerlink" title="三、设计原理图和PCB"></a>三、设计原理图和PCB</h1><p>基于V2.J16.S4版本固件（标准V2版本，支持SWD和SWIM接口），我们要<strong>怎样设计ST-Link原理图呢？</strong></p><p>可以网上<strong>下载现成原理图</strong>（文末提供下载），也可以<strong>仿照Nucleo、 Discovery、 Eval这类开发板原理图</strong>（官方提供下载）。</p><p>具体如何设计原理图和PCB对于硬件工程师来说So Easy，我这里也大概说一下仿照官方开发板设计原理图的方法。</p><h2 id="3-1-获取现成原理图"><a href="#3-1-获取现成原理图" class="headerlink" title="3.1 获取现成原理图"></a>3.1 获取现成原理图</h2><p>这个方法相信大家都会，这里需要注意的是：网上很多内容不一定正确，需要你自己排查。我也随机在网上查找了一些，文末提供下载。</p><p>所以，在网上找一个现成的原理图，自己参考官网原理图进行对比检查。</p><h2 id="3-2-参考官网原理图"><a href="#3-2-参考官网原理图" class="headerlink" title="3.2 参考官网原理图"></a>3.2 参考官网原理图</h2><p>官方Nucleo、 Discovery、 Eval这类开发板上自带的ST-Link都不对应V2.J16.S4版本固件。</p><p>所以，V2.J16.S4版本固件，<strong>需要支持SWD和SWIM的两种接口的原理图进行综合一下</strong>。比如选择STM8S-DISCO + STM32F429I-DISC1。</p><p><strong>综合推荐：</strong><br>先网上找一个现成的原理图，再结合官方开发板进行对比检查。</p><p>最后，设计好PCB，制作并焊接元器件。</p><h1 id="四、下载并更新ST-Link固件"><a href="#四、下载并更新ST-Link固件" class="headerlink" title="四、下载并更新ST-Link固件"></a>四、下载并更新ST-Link固件</h1><p>首先，通过一个现有的ST-Link<strong>下载V2.J16.S4固件到自制的ST-Link中</strong>。</p><p>下载方法我前面文章中有讲述，<strong>STM32CubeProg、 STM32 ST-LINK Utility、 STVP</strong>这类工具都行。</p><p><strong>更新固件：</strong><br>推荐下载官方最新固件升级工具包：<br><a href="https://www.st.com/en/development-tools/stsw-link007.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link007.html</a></p><p>具体请阅读：<br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料03_ST-Link固件升级、驱动下载安装方法.html">ST-Link资料03_ST-Link固件升级、驱动下载安装方法</a>中【固件升级】章节内容。</p><h1 id="五、验证"><a href="#五、验证" class="headerlink" title="五、验证"></a>五、验证</h1><p><strong>1.</strong>插上电脑验证，看电脑设备管理器，是否枚举成功（前提已安装USB驱动）；</p><p><strong>2.</strong>找一块STM32目标板，将自制ST-Link连接目标板，通过STM32CubeProg、 STM32 ST-LINK Utility工具是否能读写操作；</p><p><strong>提示：</strong><br>如果都失败，请检查硬件设计是否有问题。</p><h1 id="六、下载"><a href="#六、下载" class="headerlink" title="六、下载"></a>六、下载</h1><p>我这里提供ST-Link原理图，及V2.J16.S4版本的hex和bin固件。</p><p>百度网盘：<br><a href="https://pan.baidu.com/s/1P5OeFRJZHM8VRW7YEIIylw" target="_blank" rel="noopener">https://pan.baidu.com/s/1P5OeFRJZHM8VRW7YEIIylw</a><br>提取码：qrg2</p><p><strong>提示：</strong><br>网盘链接后期可能会失效，可以关注我微信公众号获取更新链接。</p><h1 id="七、说明"><a href="#七、说明" class="headerlink" title="七、说明"></a>七、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="八、最后"><a href="#八、最后" class="headerlink" title="八、最后"></a>八、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;ST-Link的PCB和固件，官方是没有公开的。固件只能通过升级工具进行升级。&lt;/p&gt;
&lt;p&gt;关于自制ST-Link的教程在网上比较多，国内外很多电子爱好者都手动自制成功过ST-Link。&lt;/p&gt;
&lt;p&gt;某宝上买的山寨ST-Link就是电子爱好者做出来的，大多山寨ST-Link是集成SWD和SWIM这两类接口。&lt;br&gt;&lt;strong&gt;SWD：&lt;/strong&gt;用于STM32编程和调试；&lt;br&gt;&lt;strong&gt;SWIM：&lt;/strong&gt;用于STM8编程和调试；&lt;/p&gt;
&lt;p&gt;这篇文章也算是完善该教程，总结了网上各爱好者的经验。自制ST-Link方法大概分如下几步：&lt;br&gt;&lt;strong&gt;·获取ST-Link固件&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;·设计ST-Link原理图和PCB&lt;/strong&gt;（并制作、焊接元器件）&lt;br&gt;&lt;strong&gt;·下载并更新ST-Link固件&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;·插上电脑验证，并连接目标板测试&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料04_ST-Link编程应用，以及指示灯说明</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料04_ST-Link编程应用，以及指示灯说明.html</id>
    <published>2019-02-20T05:30:00.000Z</published>
    <updated>2019-02-20T06:16:30.518Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>这篇写的是关于ST-Link的实际<strong>编程和调试应用的场景</strong>，以及概述一下ST-Link上面两种颜色LED亮灭，及闪烁的含义。</p><p>这篇文章贴近实际应用，初学者有必要掌握这些知识。</p><a id="more"></a><h1 id="二、ST-Link编程和调试应用"><a href="#二、ST-Link编程和调试应用" class="headerlink" title="二、ST-Link编程和调试应用"></a>二、ST-Link编程和调试应用</h1><p>下面罗列一些关于ST-Link<strong>常见的编程和调试应用</strong>，看看你知道哪些？</p><h2 id="2-1-STM32CubeProg编程"><a href="#2-1-STM32CubeProg编程" class="headerlink" title="2.1 STM32CubeProg编程"></a>2.1 STM32CubeProg编程</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stm32cubeprog.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stm32cubeprog.html</a></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/1.STM32CubeProg%E5%90%AF%E5%8A%A8%E7%95%8C%E9%9D%A2.png?raw=true"><br></table><p>STM32CubeProg的<strong>主要功能就是编程（下载）</strong>，支持Windows、 Linux、 macOS操作系统。</p><p>同时，需要安装JRE环境，安装地址：<br><a href="https://www.java.com/zh_CN/download" target="_blank" rel="noopener">https://www.java.com/zh_CN/download</a></p><p>更多介绍可以参看我公众号的一篇文章：<a href="https://mp.weixin.qq.com/s/exJFtnjYgAB3OsHFIGg6Zw" target="_blank" rel="noopener">几点关于STM32CubeProgrammer的内容</a>。</p><p><strong>STM32CubeProg编程</strong></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/2.STM32CubeProg%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8.png?raw=true"><br></table><h2 id="2-2-STM32-ST-LINK-Utility编程"><a href="#2-2-STM32-ST-LINK-Utility编程" class="headerlink" title="2.2 STM32 ST-LINK Utility编程"></a>2.2 STM32 ST-LINK Utility编程</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link004.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link004.html</a></p><p>STM32 ST-LINK Utility的功能比STM32CubeProg要稍微简单一些，其主要功能也是<strong>编程（下载）</strong>。</p><p>打开需要下载的可执行文件（hex或bin）,或者直接将文件拖到其中，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/3.ST-LINK%20Utility%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6.png?raw=true"><br></table><p>菜单Target -&gt; Program，或点击编程按钮（如下图），点击Start开始下载，直到完成。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/4.ST-LINK%20Utility%E4%B8%8B%E8%BD%BD.png?raw=true"><br></table><p><strong>提示：</strong>如果是bin文件，这里起始地址可以修改。</p><h2 id="2-3-STVP编程"><a href="#2-3-STVP编程" class="headerlink" title="2.3 STVP编程"></a>2.3 STVP编程</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stvp-stm8.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stvp-stm8.html</a></p><p><a href="https://www.st.com/en/development-tools/stvp-stm32.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stvp-stm32.html</a></p><p>这里下载的一个集成的工具包sttoolset，包含STVD和STVP两种工具。<br><strong>STVD：ST Visual Develop，</strong>可视化开发环境（类似Keil和IAR用于编码的IDE）;</p><p><strong>STVP：ST Visual Programmer，</strong>可视化编程，和上面STM32CubeProg类似；</p><p>这里主要讲下STVP编程工具，这个编程工具与上面STM32CubeProg、ST-LINK Utility有共同特点：<strong>主要用于编程</strong>。</p><p>但区别在于这个工具可以对STM8，以及较老的ST7编程，同样也是使用ST-Link编程器。</p><table><br><strong>STVP下载配置</strong><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/5.STVP%E4%B8%8B%E8%BD%BD%E9%85%8D%E7%BD%AE.png?raw=true"><br></table><p>这款工具主要是集成之前ST7，再到这后面STM8，32。如果你是对STM32量产编程，不建议使用该工具（建议使用STM32CubeProg）。</p><p><strong>说明：</strong><br>这个工具就是STM8和32同时都可以编程的工具，<strong>上面STM32CubeProg和STM32 ST-LINK Utility只针对于STM32</strong>。</p><h2 id="2-4-编程和调试"><a href="#2-4-编程和调试" class="headerlink" title="2.4 编程和调试"></a>2.4 编程和调试</h2><p>这里说下ST-Link的调试应用，一般调试都是基于如STVD、Keil、 IAR等这种集成开发环境（IDE）。</p><p>同样，这类集成开发环境具有编程（下载）的功能，编译好代码之后，可直接下载。</p><table><br><strong>如DMK-ARM的下载和调试：</strong><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9904_ST-Link%E7%BC%96%E7%A8%8B%E5%BA%94%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E6%8C%87%E7%A4%BA%E7%81%AF%E8%AF%B4%E6%98%8E/6.MDK-ARM%E4%B8%8B%E8%BD%BD%E3%80%81%E8%B0%83%E8%AF%95.png?raw=true"><br></table><p>这里推荐阅读我的Keil和IAR系列教程：<br><a href="https://mp.weixin.qq.com/s/o1XLOrLGJ_Xj76zaIn6uXA" target="_blank" rel="noopener">1.【专栏】 Keil系列教程</a></p><p><a href="https://mp.weixin.qq.com/s/L3bhSE-qL-mReNLe4Po-Vg" target="_blank" rel="noopener">2.【专栏】 IAR系列教程</a></p><h1 id="三、ST-Link的LED指示灯说明"><a href="#三、ST-Link的LED指示灯说明" class="headerlink" title="三、ST-Link的LED指示灯说明"></a>三、ST-Link的LED指示灯说明</h1><p>自ST-LINK/V2以来的所有ST-LINK板都实现了一个标有“COM”的LED(无论是在外壳上还是在PCB上)。</p><p>一般“COM”是<strong>由红、绿两个LED组合</strong>，有常亮、常灭、闪烁等，两个LED同时亮呈现橙色。</p><p>ST-Link的LED显示不同状态，代表不同的含义：<br><strong>LED闪烁红色：</strong>USB与PC正在枚举。<br><strong>LED为红色：</strong>建立PC与ST-LINK之间的通信(枚举结束)。<br><strong>LED闪烁绿色和红色交替：</strong>数据在目标和PC之间交换。<br><strong>LED为绿色：</strong>上次通信成功。<br><strong>LED为橙色：</strong>ST-Link和目标芯片通信失败。</p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;这篇写的是关于ST-Link的实际&lt;strong&gt;编程和调试应用的场景&lt;/strong&gt;，以及概述一下ST-Link上面两种颜色LED亮灭，及闪烁的含义。&lt;/p&gt;
&lt;p&gt;这篇文章贴近实际应用，初学者有必要掌握这些知识。&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料03_ST-Link固件升级、驱动下载安装方法</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料03_ST-Link固件升级、驱动下载安装方法.html</id>
    <published>2019-02-19T07:30:00.000Z</published>
    <updated>2019-02-20T03:27:28.617Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>前两篇文章讲述的都是关于ST-Link的一些理论知识，建议初学者看看：<br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料01_ST-Link介绍，认识各版本硬件及特征.html">ST-Link资料01_ST-Link介绍，认识各版本硬件及特征</a><br><a href="https://www.strongerhuang.com/ST-Link/ST-Link资料02_ST-Link固件介绍，及固件命名规则.html">ST-Link资料02_ST-Link固件介绍，及固件命名规则</a></p><p>本文讲述的就是实践内容：<strong>升级固件和安装驱动</strong>。这些内容大部分人都没在意过，这里就带领大家了解一下。</p><a id="more"></a><h1 id="二、固件升级"><a href="#二、固件升级" class="headerlink" title="二、固件升级"></a>二、固件升级</h1><p>升级固件的方法有很多，比如通过STM32CubePro、 MDK-ARM进行升级等。</p><p><strong>这些升级方法有什么不同呢？ 升级之后对ST-Link有什么影响？</strong></p><p>想必有很多人存在疑问，不知道答案。下面罗列一些固件升级方法。</p><h2 id="2-1-下载官网固件工具包升级（推荐）"><a href="#2-1-下载官网固件工具包升级（推荐）" class="headerlink" title="2.1 下载官网固件工具包升级（推荐）"></a>2.1 下载官网固件工具包升级（推荐）</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link007.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link007.html</a></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/1.%E5%AE%98%E7%BD%91%E4%B8%8B%E8%BD%BD%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E5%8C%85.png?raw=true"><br></table><p>目前（2019年02月）官网最新版本为V2.33.25，包含ST-LINK, ST-LINK/V2, ST-LINK/V2-1, STLINK-V3最新的固件升级工具包。（<strong>如果想升级最新的固件，建议到官网下载，其它地方都是集成了这里的工具包</strong>）</p><p>最新固件（2019年02月）：<br><strong>ST-LINK：</strong>V1J13S4.<br><strong>ST-LINK/V2：</strong>V2J33S7.<br><strong>ST-LINK/V2-1：</strong>V2J33M25 (STM32) 或 V2M25S7 (STM8).<br><strong>STLINK-V3SET：</strong>V3J3M2B3S1.</p><p>解压固件升级工具包，可以看到两种升级工具平台：<strong>Windows和AllPlatforms</strong>。</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/2.%E5%B7%A5%E5%85%B7%E5%8C%85%E5%B9%B3%E5%8F%B0.png?raw=true"><br></table><h3 id="2-1-1-Windows平台"><a href="#2-1-1-Windows平台" class="headerlink" title="2.1.1 Windows平台"></a>2.1.1 Windows平台</h3><p>直接双击工具就可运行升级工具，连接ST-Link -&gt; “Device Connect”连接ST-Link设备 -&gt; 点击“Yes”进入升级。</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/3.%E8%BF%9E%E6%8E%A5%E8%AE%BE%E5%A4%87.png?raw=true"><br></table><p>最后出现<strong>“Upgrade is successful”</strong>就升级成功了。</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/4.%E5%8D%87%E7%BA%A7%E6%88%90%E5%8A%9F%E6%8F%90%E7%A4%BA.png?raw=true"><br></table><p><strong>提示：</strong><br>上面以V2版本ST-Link为例，<strong>自动识别硬件类型</strong>；</p><h3 id="2-1-2-AllPlatforms"><a href="#2-1-2-AllPlatforms" class="headerlink" title="2.1.2 AllPlatforms"></a>2.1.2 AllPlatforms</h3><p>这是一个基于Java的新GUI，支持Windows、Linux和MacOS操作系统。</p><p>因此，需要在你系统中<strong>安装JRE V7u51</strong>(或更新版本)。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/5.%E5%85%A8%E5%B9%B3%E5%8F%B0%E5%8D%87%E7%BA%A7.png?raw=true"><br></table><p>同样，出现“Upgrade successful”说明升级成功。</p><h2 id="2-2-通过STM32-ST-LINK-Utility升级"><a href="#2-2-通过STM32-ST-LINK-Utility升级" class="headerlink" title="2.2 通过STM32 ST-LINK Utility升级"></a>2.2 通过STM32 ST-LINK Utility升级</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link004.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link004.html</a></p><p>使用过STM32 ST-LINK Utility的人，基本都知道ST-LINK菜单。<strong>通过下面子菜单Firmware update</strong>（如下图），即可进去升级界面。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/6.STM32%20ST-LINK%20Utility%E5%8D%87%E7%BA%A7%E5%9B%BA%E4%BB%B6.png?raw=true"><br></table><p>STM32 ST-LINK Utility是基于Windows平台的一个编程软件，通过上述方式进入升级界面和上面Windows平台一样。</p><p><strong>提示：</strong><br>STM32 ST-LINK Utility工具中<strong>集成的ST-Link固件</strong>，版本可能不是最新的。</p><h2 id="2-3-通过STM32CubeProg升级固件"><a href="#2-3-通过STM32CubeProg升级固件" class="headerlink" title="2.3 通过STM32CubeProg升级固件"></a>2.3 通过STM32CubeProg升级固件</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stm32cubeprog.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stm32cubeprog.html</a></p><p>这个STM32CubeProg和上面STM32 ST-LINK Utility类似，都是一个编程软件，只是这个STM32CubeProg工具中集成的ST-Link升级工具是“全平台”版本。</p><table><br><img align="left" width="700" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/7.STM32CubeProg%E5%8D%87%E7%BA%A7%E5%9B%BA%E4%BB%B6.png?raw=true"><br></table><p>同样，这里的固件也可能不是最新的版本的。</p><h2 id="2-4-通过MDK-ARM升级固件"><a href="#2-4-通过MDK-ARM升级固件" class="headerlink" title="2.4 通过MDK-ARM升级固件"></a>2.4 通过MDK-ARM升级固件</h2><p>Project -&gt; Options for Target -&gt; Debug -&gt; Setting可以看见如下界面：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/8.%E9%80%9A%E8%BF%87MDK-ARM%E5%8D%87%E7%BA%A7%E5%9B%BA%E4%BB%B6.png?raw=true"><br></table><p>这里集成的升级工具是<strong>基于Windows</strong>平台，所以，点击Update之后，和上面Windows平台操作方式一样。</p><p>像这种开发STM32的IDE中很多都集成了这个升级工具，比如EWARM同样也有。</p><p>同样，这里的固件也可能<strong>不是最新的版本的</strong>。因此，推荐使用第一种方法下载官网最新的固件。</p><h2 id="2-5-升级提示"><a href="#2-5-升级提示" class="headerlink" title="2.5 升级提示"></a>2.5 升级提示</h2><p><strong>A.</strong>通过类似STM32CubePro集成的固件不一定是最新的；</p><p><strong>B.</strong>ST-Link可以从低版本升级到高版本，<strong>也可以从高版本 -&gt; 低版本</strong>；</p><p><strong>C.</strong>ST-Link可以自由升级不影响，如果山寨J-Link升级就需要谨慎。</p><h1 id="三、驱动下载安装"><a href="#三、驱动下载安装" class="headerlink" title="三、驱动下载安装"></a>三、驱动下载安装</h1><p>有些人ST-Link不能使用，<strong>有可能就是USB驱动有问题导致的</strong>。所以，如果你的ST-Link有问题了，可以更新一下驱动，看看是不是驱动导致的。</p><p>同样，ST-Link驱动的安装方法有很多种，依然建议大家通过下载官方最新的ST-Link驱动。</p><h2 id="3-1-下载官方最新驱动"><a href="#3-1-下载官方最新驱动" class="headerlink" title="3.1 下载官方最新驱动"></a>3.1 下载官方最新驱动</h2><p>地址：<br><a href="https://www.st.com/en/development-tools/stsw-link009.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stsw-link009.html</a></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/9.%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E6%9C%80%E6%96%B0%E9%A9%B1%E5%8A%A8.png?raw=true"><br></table><p>目前（2019年02月）官网最新驱动版本为V2.0.1,基于<strong>ST-LINK， ST-LINK/V2， ST-LINK/V2-1， ST-LINK-V3</strong>，支持32或64位<strong>Windows 7、 8、 10</strong>操作系统。</p><p>如果连接ST-Link到电脑，在你的设备管理器中出现类似“未知设备”这种情况，可以选择“更新驱动程序”。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/10.%E6%9B%B4%E6%96%B0%E9%A9%B1%E5%8A%A8.png?raw=true"><br></table><h2 id="3-2-其他安装方式"><a href="#3-2-其他安装方式" class="headerlink" title="3.2 其他安装方式"></a>3.2 其他安装方式</h2><p>我们上面说了固件升级的多种方式，其实，在<strong>STM32 ST-LINK Utility、 STM32CubeProg</strong>编程软件，以及<strong>MDK-ARM、 EWARM</strong>这类IDE中同样也<strong>集成了ST-Link的USB驱动程序</strong>，一般在安装这些软件的时候会提示安装驱动。</p><table><br>如下图，提示安装驱动：<br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/11.%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8.png?raw=true"><br></table><table><br>安装成功：<br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9903_ST-Link%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7%E3%80%81%E9%A9%B1%E5%8A%A8%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E6%96%B9%E6%B3%95/12.%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8%E5%AE%8C%E6%88%90.png?raw=true"><br></table><p>同样，这些工具中<strong>集成的USB驱动</strong>不一定是最新的，建议在官网下载最新驱动。</p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;前两篇文章讲述的都是关于ST-Link的一些理论知识，建议初学者看看：&lt;br&gt;&lt;a href=&quot;https://www.strongerhuang.com/ST-Link/ST-Link资料01_ST-Link介绍，认识各版本硬件及特征.html&quot;&gt;ST-Link资料01_ST-Link介绍，认识各版本硬件及特征&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.strongerhuang.com/ST-Link/ST-Link资料02_ST-Link固件介绍，及固件命名规则.html&quot;&gt;ST-Link资料02_ST-Link固件介绍，及固件命名规则&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;本文讲述的就是实践内容：&lt;strong&gt;升级固件和安装驱动&lt;/strong&gt;。这些内容大部分人都没在意过，这里就带领大家了解一下。&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料02_ST-Link固件介绍，及固件命名规则</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9902_ST-Link%E5%9B%BA%E4%BB%B6%E4%BB%8B%E7%BB%8D%EF%BC%8C%E5%8F%8A%E5%9B%BA%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料02_ST-Link固件介绍，及固件命名规则.html</id>
    <published>2019-02-19T01:30:00.000Z</published>
    <updated>2019-02-19T01:29:37.799Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>一些人可能看了上一篇关于ST-Link的内容，就会产生疑惑。。。</p><p>ST-Link有那么多硬件版本，那么<strong>里面的软件（固件）都一样吗？</strong></p><p>我的ST-Link<strong>可以升级不同版本的固件吗？</strong></p><a id="more"></a><h1 id="二、关于ST-Link固件"><a href="#二、关于ST-Link固件" class="headerlink" title="二、关于ST-Link固件"></a>二、关于ST-Link固件</h1><p><strong>固件Firmware</strong>，一般指写入硬件（芯片）里面的程序。</p><p>相信大家都看到过ST-Link硬件，里面的MCU就是一块STM32F103R8或RB芯片（不同硬件有差异）。</p><p>其实，里面就是STM32程序 ，我们称<strong>里面的程序为ST-Link固件</strong>。</p><p>所以，只要你有固件，设计一样的硬件，就可以做成一个ST-Link了，这就是所谓的山寨ST-Link（后续文章讲述如何自制ST-Link）。</p><h1 id="三、ST-Link命名规则"><a href="#三、ST-Link命名规则" class="headerlink" title="三、ST-Link命名规则"></a>三、ST-Link命名规则</h1><p>由于ST-link硬件和功能的多样性，ST-Link的固件同样也具有多样性，也就是有多种版本。</p><p>比如，在升级的时候，我们会看到类似如下<strong>版本信息V2.J33.S7</strong>，你们知道这代表什么吗？</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9902_ST-Link%E5%9B%BA%E4%BB%B6%E4%BB%8B%E7%BB%8D%EF%BC%8C%E5%8F%8A%E5%9B%BA%E4%BB%B6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/1.ST-Link%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF.png?raw=true"><br></table><p>ST-Link固件命名遵循一定规则，相信很多朋友都没有关注过这个问题，下面详细讲述。</p><h2 id="3-1-命名规则"><a href="#3-1-命名规则" class="headerlink" title="3.1 命名规则"></a>3.1 命名规则</h2><p><strong>主要版本</strong><br><strong>1：</strong>代表ST-LINK/V1<br><strong>2：</strong>代表ST-LINK/V2， ST-LINK/V2-1，ST-LINK/V2-A和 ST-LINK/V2-B<br><strong>3：</strong>代表STLINK-V3SET 和 STLINK-V3E</p><p>比如V2.J33.S7就是属于V2版本的ST-Link。</p><p><strong>次要版本</strong><br><strong>J：</strong>支持STM32调试接口的版本(JTAG和SWD协议)。值0表示不支持该接口(对于STM8的Discovery板，如：V2.J0.S4)。</p><p><strong>S：</strong>支持STM8调试接口的版本(SWIM协议)。值0表示不支持该接口(对于某些STM32的Discovery和Eval板，如：V2.J33.S0)</p><p><strong>M：</strong>用于大容量存储和虚拟COM端口接口的版本（如：V2.J33.M25）。</p><p><strong>B：</strong>桥接界面版本（V3.J1.M1.B1.S1）。</p><h2 id="3-2-举例说明"><a href="#3-2-举例说明" class="headerlink" title="3.2 举例说明"></a>3.2 举例说明</h2><p>为了让大家进一步了解，下面举几个例说明一下。<br><strong>V1.J13.S4：</strong>是ST-LINK/V1独立版本。</p><p><strong>V2.J27.S6：</strong>是ST-LINK/V2独立版本(具有STM32和STM8调试接口)。</p><p><strong>V2.J27.S0：</strong>是32F401CDISCOVERY开发板自带ST-Link(具有STM32调试接口，没有STM8调试接口，没有大容量存储接口，没有虚拟COM端口)的版本。</p><p><strong>V2.J27.M15：</strong>是用于核板和其他ST-LINK/V2-1、ST-LINK/V2-A、ST-LINK/V2-B板(具有STM32调试接口、大容量存储接口、虚拟COM端口)的版本。</p><p><strong>V3.J1.M1.B1.S1：</strong>是STLINK-V3SET的一个版本(具有STM8和STM32调试接口、大容量存储接口、虚拟COM端口、网桥接口)。</p><h2 id="3-3-强调说明"><a href="#3-3-强调说明" class="headerlink" title="3.3 强调说明"></a>3.3 强调说明</h2><p>ST-Link固件的类型与硬件紧密相连。因此，<strong>不可能更改给定板的固件类型</strong>(例如：从V2.J27.S6更改为V2.J27.M15)。<strong>只能更新同一类型固件的版本</strong>(例如：V2.J25.M14到V2.J27.M15)。</p><p>所以，ST-Link升级时，固件类型是升级工具<strong>自动识别类型</strong>，一般不能更改的类型。（后面文章讲述升级相关内容）。</p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;一些人可能看了上一篇关于ST-Link的内容，就会产生疑惑。。。&lt;/p&gt;
&lt;p&gt;ST-Link有那么多硬件版本，那么&lt;strong&gt;里面的软件（固件）都一样吗？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;我的ST-Link&lt;strong&gt;可以升级不同版本的固件吗？&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ST-Link资料01_ST-Link介绍，认识各版本硬件及特征</title>
    <link href="http://www.strongerhuang.com/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81.html"/>
    <id>http://www.strongerhuang.com/ST-Link/ST-Link资料01_ST-Link介绍，认识各版本硬件及特征.html</id>
    <published>2019-02-19T01:00:00.000Z</published>
    <updated>2019-02-19T04:07:08.725Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>想必学习过STM32的朋友都应该知道ST-Link这个工具，但大部分人对它的认识仅仅处于表面，只知道它有在线调试、编程（下载）功能。</p><p>我一路过来，对ST-Link也<strong>积累了一些“扩展”知识</strong>，所以特地写下几篇关于ST-Link的专栏文章。</p><p>该专栏以简单、基础为原则，重点突出其中内容，相信该专栏文章对你有所帮助。</p><a id="more"></a><h1 id="二、ST-Link介绍"><a href="#二、ST-Link介绍" class="headerlink" title="二、ST-Link介绍"></a>二、ST-Link介绍</h1><p>ST-Link是用于STM8和STM32微控制器的<strong>在线调试器和编程器</strong>，也是大家口中的<strong>下载器</strong>。</p><p>ST-Link具有SWIM、JTAG / SWD等通信接口，用于与STM8或STM32微控制器进行通信（各版本有差异）。</p><p>三种接口说明：<br><strong>· SWIM：</strong>Single Wire Interface Module，单线接口模块。<br><strong>· JTAG：</strong>Joint Test Action Group，联合测试工作组，是一种国际标准测试协议。<br><strong>· SWD：</strong>Serial Wire Debugging，串行调试接口。</p><p>STM8使用USB全速接口与<strong>ST Visual Develop（STVD集成开发环境）或ST Visual Program（STVP编程软件）</strong>进行通信。</p><p>STM32使用USB全速接口与<strong>ATOLLIC®，IAR™，KEIL™或TASKING™</strong>集成开发环境进行通信。同时，与<strong>STVP、STM32 ST-LINK utility、STM32CubeProg</strong>编程软件进行通信。</p><h1 id="三、ST-Link硬件"><a href="#三、ST-Link硬件" class="headerlink" title="三、ST-Link硬件"></a>三、ST-Link硬件</h1><p>ST-Link的硬件，官方推出了三大版本：<strong>V1、V2和V3</strong>。同时，在ST开发板上也自带有ST-Link工具，但其ST-Link版本因开发板不同而各有不同。</p><p>ST-Link三大版本硬件上差异还是比较大，所以相应功能也有差异，后续逐渐讲述，下面认识一下各版本硬件。</p><h2 id="3-1-ST-Link-V1"><a href="#3-1-ST-Link-V1" class="headerlink" title="3.1 ST-Link V1"></a>3.1 ST-Link V1</h2><p>官方地址：<br><a href="https://www.st.com/en/development-tools/st-link.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/st-link.html</a></p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/1.ST-Link%20V1.jpg?raw=true"><br></table><p>V1是比较老的版本，目前市面上很少看见有V1版，基本被V2版取代了。</p><h2 id="3-2-ST-Link-V2"><a href="#3-2-ST-Link-V2" class="headerlink" title="3.2 ST-Link V2"></a>3.2 ST-Link V2</h2><p>官方地址：<br><a href="https://www.st.com/en/development-tools/st-link-v2.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/st-link-v2.html</a></p><table><br><img align="left" width="400" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/2.ST-Link%20V2.jpg?raw=true"><br></table><p>V2包含两个版本：<strong>ST-LINK/V2</strong>（标准版） 和 <strong>ST-LINK/V2-ISOL</strong>（隔离版）。</p><p>隔离版具有信号隔离功能，但价格要比标准版贵几倍。</p><h2 id="3-3-ST-Link-V3"><a href="#3-3-ST-Link-V3" class="headerlink" title="3.3 ST-Link V3"></a>3.3 ST-Link V3</h2><p>官方地址：<br><a href="https://www.st.com/en/development-tools/stlink-v3set.html" target="_blank" rel="noopener">https://www.st.com/en/development-tools/stlink-v3set.html</a></p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/3.ST-Link%20V3.jpg?raw=true"><br></table><p>V3是18年下半年新推出的一个版本，功能、速度上也是有很大差异。目前（19年1月）官网指导价35美元，市面上普及率还不是很高。</p><h2 id="3-4-开发板自带ST-Link"><a href="#3-4-开发板自带ST-Link" class="headerlink" title="3.4 开发板自带ST-Link"></a>3.4 开发板自带ST-Link</h2><p>ST原厂推出的各种Nucleo、Discovery Kits、Eval Boards开发板基本都自带有一个ST-link。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E8%87%AA%E5%B8%A6ST-Link.png?raw=true"><br></table><p>这些板子上自带的ST-Link版本各有不同，像以前一些较老的开发板自带的ST-Link为V1版本。这后面新推出的开发板自带的ST-Link基本都是V2及V2的衍生版本。</p><h2 id="3-5-山寨ST-link"><a href="#3-5-山寨ST-link" class="headerlink" title="3.5 山寨ST-link"></a>3.5 山寨ST-link</h2><p>相信10个使用S-Link的人中，有9个都用过山寨ST-link（我也不例外）。目前市面上山寨的ST-Link，大部分是<strong>山寨V2标准版</strong>。</p><table><br><img align="left" width="500" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/5.%E5%B1%B1%E5%AF%A8ST-Link.png?raw=true"><br></table><p>山寨的ST-Link主要的特点就是便宜，一般某宝上10~20元就能买一个。<strong>里面固件一般没什么问题，可以直接升级ST官方的固件，最大差异就是硬件</strong>。</p><p>如果运气好，能用很久。我有一个山寨货，用了好几年，期间电源短路、芯片发烫等各种折磨，至今都是好的。</p><p>当然，如果运气差，可能买回来下载一次就不坏了，而且还有可能损坏你的目标芯片（STM8/32）。</p><h1 id="四、ST-Link各版本特征"><a href="#四、ST-Link各版本特征" class="headerlink" title="四、ST-Link各版本特征"></a>四、ST-Link各版本特征</h1><p>ST-Link站在硬件的角度，目前（2019年02月）官网还将其分为以下6各版本：<br><strong>·ST-LINK/V1</strong><br><strong>·ST-LINK/V2</strong><br><strong>·ST-LINK/V2-1</strong><br><strong>·ST-LINK/V2-A</strong><br><strong>·ST-LINK/V2-B</strong><br><strong>·ST-LINK-V3SET</strong></p><p>这些版本就是位于上面章节说的ST-Link硬件中，主要就是V2衍生出了几个版本，嵌入到Nucleo、Discovery Kits、Eval Boards这些开发板中。</p><p>这是站在硬件角度来分的几个版本，其实站在软件角度（固件），也是可以分很多版本（后续文章讲述）。</p><p>为了让大家更加了解这几个版本，下面给出这几个版本主要特征（来自ST官网信息）。</p><h2 id="4-1-ST-LINK-V1特征"><a href="#4-1-ST-LINK-V1特征" class="headerlink" title="4.1 ST-LINK/V1特征"></a>4.1 ST-LINK/V1特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/6.V1%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-2-ST-LINK-V2特征"><a href="#4-2-ST-LINK-V2特征" class="headerlink" title="4.2 ST-LINK/V2特征"></a>4.2 ST-LINK/V2特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/7.V2%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-3-ST-LINK-V2-1特征"><a href="#4-3-ST-LINK-V2-1特征" class="headerlink" title="4.3 ST-LINK/V2-1特征"></a>4.3 ST-LINK/V2-1特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/8.V2-1%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-4-ST-LINK-V2-A特征"><a href="#4-4-ST-LINK-V2-A特征" class="headerlink" title="4.4 ST-LINK/V2-A特征"></a>4.4 ST-LINK/V2-A特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/9.V2-A%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-5-ST-LINK-V2-B特征"><a href="#4-5-ST-LINK-V2-B特征" class="headerlink" title="4.5 ST-LINK/V2-B特征"></a>4.5 ST-LINK/V2-B特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/10.V2-B%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-6-ST-LINK-V3SET特征"><a href="#4-6-ST-LINK-V3SET特征" class="headerlink" title="4.6 ST-LINK-V3SET特征"></a>4.6 ST-LINK-V3SET特征</h2><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/ST-Link/ST-Link%E8%B5%84%E6%96%9901_ST-Link%E4%BB%8B%E7%BB%8D%EF%BC%8C%E8%AE%A4%E8%AF%86%E5%90%84%E7%89%88%E6%9C%AC%E7%A1%AC%E4%BB%B6%E5%8F%8A%E7%89%B9%E5%BE%81/11.V3SET%E7%89%B9%E5%BE%81.png?raw=true"><br></table><h2 id="4-7-简述各版本来历"><a href="#4-7-简述各版本来历" class="headerlink" title="4.7 简述各版本来历"></a>4.7 简述各版本来历</h2><p>ST-Link是随着时间的推移，功能和版本逐渐在更新。ST-Link的前两个版本都是独立的，并嵌入到Discovery和Eval Boards开发板中。</p><p>这两个版本是：<br><strong>·ST-LINK/V1</strong><br><strong>·ST-LINK/V2</strong></p><p>第三个ST-Link版本<strong>ST-LINK/V2-1</strong>是ST-LINK/V2的演化，<strong>增加了USB接口(大容量存储接口和虚拟COM端口)</strong>，在应用板中对STM32单片机进行了更好的电源管理控制。</p><p>为了支持ST-LINK/V2版本的一些功能，后来又实现了ST-LINK/V2版本的另外两个版本:<br><strong>·ST-LINK/V2-A：</strong>用于大容量存储<br><strong>·ST-LINK/V2-B：</strong>用于大容量存储和虚拟COM端口</p><p><strong>ST-LINK-V3</strong>是目前（2019年02月）<strong>最新、功能最强大的一款</strong>。它首先作为一个模块化的独立探针(STLINK-V3SET)引入，也可以嵌入到演示板(STLINK-V3E)中。</p><h1 id="五、说明"><a href="#五、说明" class="headerlink" title="五、说明"></a>五、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【嵌入式专栏】，关注微信公众号回复【ST-Link资料】即可查看全系列教程。  </p><h1 id="六、最后"><a href="#六、最后" class="headerlink" title="六、最后"></a>六、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;想必学习过STM32的朋友都应该知道ST-Link这个工具，但大部分人对它的认识仅仅处于表面，只知道它有在线调试、编程（下载）功能。&lt;/p&gt;
&lt;p&gt;我一路过来，对ST-Link也&lt;strong&gt;积累了一些“扩展”知识&lt;/strong&gt;，所以特地写下几篇关于ST-Link的专栏文章。&lt;/p&gt;
&lt;p&gt;该专栏以简单、基础为原则，重点突出其中内容，相信该专栏文章对你有所帮助。&lt;/p&gt;
    
    </summary>
    
      <category term="ST-Link资料" scheme="http://www.strongerhuang.com/categories/ST-Link%E8%B5%84%E6%96%99/"/>
    
    
      <category term="STM32" scheme="http://www.strongerhuang.com/tags/STM32/"/>
    
      <category term="ST-Link" scheme="http://www.strongerhuang.com/tags/ST-Link/"/>
    
      <category term="调试器" scheme="http://www.strongerhuang.com/tags/%E8%B0%83%E8%AF%95%E5%99%A8/"/>
    
      <category term="编程器" scheme="http://www.strongerhuang.com/tags/%E7%BC%96%E7%A8%8B%E5%99%A8/"/>
    
      <category term="下载器" scheme="http://www.strongerhuang.com/tags/%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Keil系列教程</title>
    <link href="http://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B.html"/>
    <id>http://www.strongerhuang.com/Keil/Keil系列教程.html</id>
    <published>2019-01-15T10:00:00.000Z</published>
    <updated>2019-01-15T09:49:28.643Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>　　本文对【Keil系列教程】做了整理并汇总，会随着该系列教程的更新而更新。</p><p>　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于<a href="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true" target="_blank" rel="noopener">微信公众号【EmbeddedDevelop】</a>，关注微信公众号回复【Keil系列教程】即可查看。</p><a id="more"></a><h1 id="二、教程列表"><a href="#二、教程列表" class="headerlink" title="二、教程列表"></a>二、教程列表</h1><p><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B01_Keil%E4%BB%8B%E7%BB%8D%E3%80%81%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E4%B8%8E%E6%B3%A8%E5%86%8C.html">Keil系列教程01_Keil介绍、下载、安装与注册</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_%E6%96%B0%E5%BB%BA%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B.html">Keil系列教程02_新建基础软件工程</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E4%B8%BB%E7%AA%97%E5%8F%A3%E5%92%8C%E5%B7%A5%E5%85%B7%E6%A0%8F%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E.html">Keil系列教程03_主窗口和工具栏详细说明</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_%E8%8F%9C%E5%8D%95%E6%A6%82%E8%BF%B0.html">Keil系列教程04_菜单概述</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_%E5%B7%A5%E7%A8%8B%E7%9B%AE%E6%A0%87%E9%80%89%E9%A1%B9%E9%85%8D%E7%BD%AE%EF%BC%88%E4%B8%80%EF%BC%89.html">Keil系列教程05_工程目标选项配置（一）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_%E5%B7%A5%E7%A8%8B%E7%9B%AE%E6%A0%87%E9%80%89%E9%A1%B9%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89.html">Keil系列教程06_工程目标选项配置（二）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B07_Configuration%EF%BC%88%E4%B8%80%EF%BC%89.html">Keil系列教程07_Configuration（一）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B08_Configuration%EF%BC%88%E4%BA%8C%EF%BC%89.html">Keil系列教程08_Configuration（二）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B09_%E8%B0%83%E8%AF%95%E4%BB%BF%E7%9C%9F.html">Keil系列教程09_调试仿真</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B10_%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%8F%8A%E7%9B%B8%E5%85%B3%E6%8F%8F%E8%BF%B0.html">Keil系列教程10_文件类型及相关描述</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B11_%E5%B7%A5%E7%A8%8B%E7%AA%97%E5%8F%A3%E5%9B%BE%E6%A0%87%E8%AF%B4%E6%98%8E.html">Keil系列教程11_工程窗口图标说明</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B12_map%E6%96%87%E4%BB%B6%E5%85%A8%E9%9D%A2%E8%A7%A3%E6%9E%90.html">Keil系列教程12_map文件全面解析</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%9B%AE%E6%A0%87%E5%B7%A5%E7%A8%8B.html">Keil系列教程13_创建多目标工程</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4.html">Keil系列教程14_创建多工程工作空间</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E.html">Keil系列教程15_编辑窗口右键菜单选项说明</a></p><p>正在努力更新中，可关注我微信公众号查看最新消息……</p><h1 id="三、说明"><a href="#三、说明" class="headerlink" title="三、说明"></a>三、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【Keil系列教程】即可查看全系列教程。  </p><h1 id="四、最后"><a href="#四、最后" class="headerlink" title="四、最后"></a>四、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;　　本文对【Keil系列教程】做了整理并汇总，会随着该系列教程的更新而更新。&lt;/p&gt;
&lt;p&gt;　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于&lt;a href=&quot;https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;微信公众号【EmbeddedDevelop】&lt;/a&gt;，关注微信公众号回复【Keil系列教程】即可查看。&lt;/p&gt;
    
    </summary>
    
      <category term="Keil系列教程" scheme="http://www.strongerhuang.com/categories/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Keil" scheme="http://www.strongerhuang.com/tags/Keil/"/>
    
      <category term="MDK-ARM" scheme="http://www.strongerhuang.com/tags/MDK-ARM/"/>
    
      <category term="µVision" scheme="http://www.strongerhuang.com/tags/%C2%B5Vision/"/>
    
  </entry>
  
  <entry>
    <title>Keil系列教程15_编辑窗口右键菜单选项说明</title>
    <link href="http://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/Keil/Keil系列教程15_编辑窗口右键菜单选项说明.html</id>
    <published>2019-01-15T09:30:00.000Z</published>
    <updated>2019-01-15T10:04:09.747Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>在<strong>编辑窗口</strong>中，点击鼠标右键，会出现一个菜单选项（<strong>右键菜单</strong>），里面包含多项菜单内容。但在不同位置，出现的菜单选项可能不同。</p><p><strong>右键菜单属于一种快捷操作</strong>，比较常用，大部分内容在我们的Menu菜单中都能找到，以及在快捷按钮、快捷键也能找到。同一种菜单它们具有相同的功能。</p><p>在编辑窗口中大致分为两类，一类是<strong>文件名右键菜单</strong>，另一类是<strong>编辑文本右键菜单</strong>。</p><a id="more"></a><table><br><strong>右键菜单内容</strong>动画效果：<br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/1.%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95.gif?raw=true"><br></table><h1 id="二、文件名右键菜单"><a href="#二、文件名右键菜单" class="headerlink" title="二、文件名右键菜单"></a>二、文件名右键菜单</h1><p>文件名右键菜单在打开<strong>单个文件和多个文件呈现菜单选项不同</strong>。如下图，打开多个文件时，会多出两个菜单。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/2.%E6%96%87%E4%BB%B6%E5%90%8D%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95.png?raw=true"><br></table><p>1.Colse：关闭当前文件<br>2.Colse All But This：关闭所有文件，除当前文件之外<br>3.Colse All：关闭所有文件</p><p>4.Copy Full Path：复制当前文件路径<br>5.Open Containing Folder：打开当前文件所在文件夹</p><p>6.New Horizontal Tab Group：新建水平编辑窗口<br>7.New Vertical Tab Group：新建垂直编辑窗口</p><table><br><strong>文件名右键菜单567</strong>动画效果：<br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/3.%E6%96%87%E4%BB%B6%E5%90%8D%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95567%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><h1 id="三、编辑文本右键菜单"><a href="#三、编辑文本右键菜单" class="headerlink" title="三、编辑文本右键菜单"></a>三、编辑文本右键菜单</h1><p>编辑文本右键菜单类似上面，在不同情况下，菜单选项呈现不同的内容。比如：同样在空白处，<strong>在.h和.c文件下，二者会有差异</strong>，但大部分内容还是一样。</p><table><br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/4.%E7%BC%96%E8%BE%91%E6%96%87%E6%9C%AC%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E5%AF%B9%E6%AF%94.png?raw=true"><br></table><p>相信使用过Keil的朋友都知道，在编辑文本的时候，点击右键，会出现类似如上图的菜单选项，只是大部分人没有关注过这些菜单选项的差异。</p><p>当然，作为用户，我们不必关心这些右键菜单选项的差异，只需要知道如何使用即可。</p><p><strong>1.Split Window horizontally：水平分割窗口</strong><br>这个类似新建水平编辑窗口，只是这里是将同一个文件分割在两个窗口。</p><table><br><strong>水平分割窗口</strong>动画效果：<br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/5.%E6%B0%B4%E5%B9%B3%E5%88%86%E5%89%B2%E7%AA%97%E5%8F%A3%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><p><strong>2.Open Document “bsp.h”：打开文档bsp.h</strong><br>这个菜单选项需要在「#include “xxx.h”」处点击右键才会出现，也就是我们平时打开头文件。</p><p><strong>3.Insert ‘#include file’：插入‘包含文件’</strong><br>这个容易理解，就是在光标所在行，插入「#include “xxx.h”」，但是后面有个扩展菜单，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/6.%E6%8F%92%E5%85%A5Include%E6%96%87%E4%BB%B6.png?raw=true"><br></table><p><strong>提示：</strong>后面stm32f10x.h与你工程目标器件型号有关（这里是STM32F103ZE）。如果器件型号是STM32F407ZE，后面会显示stm32f4xx.h。</p><p><strong>4.Go to Headerfile：转向头文件</strong><br>这个功能类似于「上面第2点 打开文档bsp.h」，只有在源文件（c/c++）才有，在头文件（.h）中没有。</p><table><br><strong>转向头文件</strong>动画效果：<br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/7.%E8%BD%AC%E5%90%91%E5%A4%B4%E6%96%87%E4%BB%B6%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><p><strong>5.Insert/Remove Breakpoint：插入/移除断点</strong></p><p><strong>6.Enable/Disable Breakpoint：使能/失能断点</strong><br>这两个关于断点的功能，用于调试，可以参看我之前的文章<a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B09_%E8%B0%83%E8%AF%95%E4%BB%BF%E7%9C%9F.html">《Keil系列教程09_调试仿真》</a>四个断点按钮章节。</p><p><strong>7.Insert/Remove Bookmark：插入/移除书签</strong></p><p><strong>8.Undo：撤销编辑</strong></p><p><strong>9.Redo：恢复编辑</strong></p><p><strong>10.Cut：剪切</strong></p><p><strong>11.Copy：复制</strong></p><p><strong>12.Paste：粘贴</strong></p><p><strong>13.Save All：保存所有文件</strong><br>上面7~13的七项详细内容可以参看文章<a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_%E4%B8%BB%E7%AA%97%E5%8F%A3%E5%92%8C%E5%B7%A5%E5%85%B7%E6%A0%8F%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E.html">《Keil系列教程03_主窗口和工具栏详细说明》</a>。</p><p><strong>14.Outlining：提纲，概要</strong><br>这个菜单选项有多级扩展子菜单，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/8.Outlining%E6%89%A9%E5%B1%95%E9%80%89%E9%A1%B9.png?raw=true"><br></table><p><strong>Show All Outlining：</strong>显示所有提纲<br><strong>Hile All Outlining：</strong>隐藏所有提纲<br><strong>Expand All Definitions：</strong>展开所有定义<br><strong>Collapse All Definitions：</strong>折叠所有定义<br><strong>Collapse Current Block：</strong>折叠当前块<br><strong>Collapse Current Procedure：</strong>折叠当前程序</p><table><br><strong>Outlining提纲</strong>动画效果：<br><img align="left" width="800" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/9.Outlining%E6%8F%90%E7%BA%B2%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C.gif?raw=true"><br></table><p><strong>15.Advanced：高级功能</strong><br>这个菜单同样有多个扩展子菜单，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_%E7%BC%96%E8%BE%91%E7%AA%97%E5%8F%A3%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95%E9%80%89%E9%A1%B9%E8%AF%B4%E6%98%8E/10.Advanced%E6%89%A9%E5%B1%95%E9%80%89%E9%A1%B9.png?raw=true"><br></table><p><strong>Go To Line：</strong>跳转到指定行<br><strong>Select Text between Matching Braces：</strong>在匹配的括号中选择文本<br><strong>Go To Matching Braces：</strong>转到匹配括号<br><strong>Tabify Selection：</strong>将选中的空格符替换为Tab制表符<br><strong>Untabify Selection：</strong>将选中的Tab制表符替换为空格符（转换）<br><strong>Make Uppercase：</strong>将需选中文本替换为大写<br><strong>Make Lowercase：</strong>将需选中文本替换为小写<br><strong>Comment Selection：</strong>注释选中内容<br><strong>Uncomment Selection：</strong>取消注释选中内容<br><strong>Indent Selection：</strong>选中内容缩进<br><strong>Unindent Selection：</strong>选中内容取消缩进<br><strong>Indent Selection with Text：</strong>在xxx文本前缩进<br><strong>Unindent Selection with Text：</strong>在xxx文本前取消缩进<br><strong>Delete Trailing White Space：</strong>删除选中内容每行最后空格<br><strong>Delete Horizontal White Space：</strong>删除水平空格<br><strong>Cut Current Line：</strong>剪切当前行<br><strong>Go To Definition of current Word：</strong>转到当前字定义<br><strong>Go To Next Reference of current Word：</strong>转到当前字下一个引用<br><strong>Go To Previous Reference of current Word：</strong>转到当前字上一个引用<br><strong>Go To Declaration of current Word：</strong>转到当前字申明<br><strong>Show All Reference of current Word：</strong>显示当前字所有申明<br><strong>Refresh Source Browser View：</strong>刷新所有浏览信息<br><strong>Toggle Text Editor/Configuration Wizard：</strong>切换文本编辑器/配置向导</p><p>以上菜单选项内容，有部分使用的比较频繁，有部分很少使用，根据大家平时习惯，有些常用菜单可以通过快捷键实现（也可以配置快捷键）。</p><h1 id="四、说明"><a href="#四、说明" class="headerlink" title="四、说明"></a>四、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【Keil系列教程】即可查看全系列教程。  </p><h1 id="五、最后"><a href="#五、最后" class="headerlink" title="五、最后"></a>五、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;在&lt;strong&gt;编辑窗口&lt;/strong&gt;中，点击鼠标右键，会出现一个菜单选项（&lt;strong&gt;右键菜单&lt;/strong&gt;），里面包含多项菜单内容。但在不同位置，出现的菜单选项可能不同。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;右键菜单属于一种快捷操作&lt;/strong&gt;，比较常用，大部分内容在我们的Menu菜单中都能找到，以及在快捷按钮、快捷键也能找到。同一种菜单它们具有相同的功能。&lt;/p&gt;
&lt;p&gt;在编辑窗口中大致分为两类，一类是&lt;strong&gt;文件名右键菜单&lt;/strong&gt;，另一类是&lt;strong&gt;编辑文本右键菜单&lt;/strong&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="Keil系列教程" scheme="http://www.strongerhuang.com/categories/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Keil" scheme="http://www.strongerhuang.com/tags/Keil/"/>
    
      <category term="MDK-ARM" scheme="http://www.strongerhuang.com/tags/MDK-ARM/"/>
    
      <category term="µVision" scheme="http://www.strongerhuang.com/tags/%C2%B5Vision/"/>
    
  </entry>
  
  <entry>
    <title>Keil系列教程14_创建多工程工作空间</title>
    <link href="http://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4.html"/>
    <id>http://www.strongerhuang.com/Keil/Keil系列教程14_创建多工程工作空间.html</id>
    <published>2018-12-18T10:00:00.000Z</published>
    <updated>2018-12-18T09:57:38.673Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>继上一篇文章<a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%9B%AE%E6%A0%87%E5%B7%A5%E7%A8%8B.html">《Keil系列教程13_创建多目标工程》</a>，本文接着讲述<strong>创建多工程的工作空间</strong>。</p><p>本文「创建多工程工作空间」主要的内容不多，会讲述一部分<strong>额外的相关内容</strong>。</p><p>创建多工程工作空间一般用于项目中有多个工程，<strong>为了统一管理项目</strong>。一般初学者不常用。</p><a id="more"></a><h1 id="二、工作空间与工程的关系"><a href="#二、工作空间与工程的关系" class="headerlink" title="二、工作空间与工程的关系"></a>二、工作空间与工程的关系</h1><p>本章节算是回顾前面讲述过的知识点：<strong>工作空间与工程的包含关系，一个工作空间可以包含多个工程</strong>。</p><p>下图是<strong>工作空间、 工程、 目标</strong>三者的关系：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_%E5%B7%A5%E7%A8%8B%E7%9B%AE%E6%A0%87%E9%80%89%E9%A1%B9%E9%85%8D%E7%BD%AE%EF%BC%88%E4%B8%80%EF%BC%89/4.%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E3%80%81%E5%B7%A5%E7%A8%8B%E3%80%81%E7%9B%AE%E6%A0%87%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB.png?raw=true"><br></table><p><strong>提示：</strong><br><strong>在Keil中叫Target（目标）</strong>，而在IAR中叫Node（节点）。其实这两者意思一样，都是隶属于工程的下一级。</p><h1 id="三、准备工作"><a href="#三、准备工作" class="headerlink" title="三、准备工作"></a>三、准备工作</h1><p>创建工作空间可以说没有什么难度，其实难点在于<strong>创建工程，以及工程目标相关的配置工作</strong>。</p><p>而创建工程、工程目标选项配置这些内容在前面都有讲述，请参看前面文章：<br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_%E6%96%B0%E5%BB%BA%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B.html">Keil系列教程02_新建基础软件工程</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_%E5%B7%A5%E7%A8%8B%E7%9B%AE%E6%A0%87%E9%80%89%E9%A1%B9%E9%85%8D%E7%BD%AE%EF%BC%88%E4%B8%80%EF%BC%89.html">Keil系列教程05_工程目标选项配置（一）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_%E5%B7%A5%E7%A8%8B%E7%9B%AE%E6%A0%87%E9%80%89%E9%A1%B9%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89.html">Keil系列教程06_工程目标选项配置（二）</a><br><a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%9B%AE%E6%A0%87%E5%B7%A5%E7%A8%8B.html">Keil系列教程13_创建多目标工程</a></p><p>参考上面4篇文章创<strong>建好工程、配置好工程目标</strong>，再创建工作空间，最后在工作空间中添加工程即可。</p><p>本文默认已经创建并配置好了3个工程：<strong>Project1、Project2、Project3</strong>。将这个3个工程添加到我们创建的工作空间<strong>Workspace</strong>中。</p><p><strong>提示：</strong><br>1.本文只是方便大家理解，提供的3个简单工程Project1、2、3<strong>源代码和功能都类似</strong>。</p><p>2.三个工程都是基础软件工程，它们使用公共的标准外设库Libraries。</p><p>3.一般实际项目源码和功能不会相同，同时Project1、Workspace命名方式也请根据实际情况而定。</p><p>4.文末将提供这个例子代码供大家下载。</p><h1 id="四、创建工作空间"><a href="#四、创建工作空间" class="headerlink" title="四、创建工作空间"></a>四、创建工作空间</h1><p>创建多目标工作空间，就是<strong>先创建一个工作空间（Workspace），再将创建好的工程（Project）添加带工作空间即可</strong>。</p><p>这一章节讲述<strong>创建工作空间，添加工程的基本操作</strong>，下一章节讲述多工程的相关内容。</p><h2 id="4-1-整理文件夹及文件"><a href="#4-1-整理文件夹及文件" class="headerlink" title="4.1 整理文件夹及文件"></a>4.1 整理文件夹及文件</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/1.%E6%95%B4%E7%90%86%E6%96%87%E4%BB%B6%E5%A4%B9%E5%8F%8A%E6%96%87%E4%BB%B6.png?raw=true"><br></table><p>我们这里3个工程<strong>使用公共的库Libraries</strong>，一般在实际应用中也存在类似情况，比如多个工程共同使用一些源代码、算法库等。</p><h2 id="4-2-创建工作空间"><a href="#4-2-创建工作空间" class="headerlink" title="4.2 创建工作空间"></a>4.2 创建工作空间</h2><p>打开Keil软件 -&gt; Project -&gt; New Multi-Project Workspace：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/2.%E5%88%9B%E5%BB%BA%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4.png?raw=true"><br></table><h2 id="4-3-保存工作空间"><a href="#4-3-保存工作空间" class="headerlink" title="4.3 保存工作空间"></a>4.3 保存工作空间</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/3.%E4%BF%9D%E5%AD%98%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4.png?raw=true"><br></table><h2 id="4-4-添加工程"><a href="#4-4-添加工程" class="headerlink" title="4.4 添加工程"></a>4.4 添加工程</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/4.%E6%B7%BB%E5%8A%A0%E5%B7%A5%E7%A8%8B.png?raw=true"><br></table><table><br>添加工程动画效果：<br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/5.%E6%B7%BB%E5%8A%A0%E5%B7%A5%E7%A8%8B%EF%BC%88%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C%EF%BC%89.gif?raw=true"><br></table><h2 id="4-5-添加完成多工程"><a href="#4-5-添加完成多工程" class="headerlink" title="4.5 添加完成多工程"></a>4.5 添加完成多工程</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/6.%E6%B7%BB%E5%8A%A0%E5%AE%8C%E6%88%90%E5%A4%9A%E5%B7%A5%E7%A8%8B.png?raw=true"><br></table><p>到这里，包含多个工程的工作空间就创建完成了。如果前面创建的3个工程没有问题，则可直接在该工作空间选择工程进行编译、下载等操作。</p><h1 id="五、多工程相关内容"><a href="#五、多工程相关内容" class="headerlink" title="五、多工程相关内容"></a>五、多工程相关内容</h1><p>这一章节讲述多工程工作空间相关的一些内容：工作空间管理、激活工程、编译选项等。</p><h2 id="5-1-工作空间管理"><a href="#5-1-工作空间管理" class="headerlink" title="5.1 工作空间管理"></a>5.1 工作空间管理</h2><p>进入工作空间管理有多种方式：<br><strong>1.快捷按钮</strong></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/7.%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%E5%BF%AB%E6%8D%B7%E6%8C%89%E9%92%AE.png?raw=true"><br></table><p><strong>2.菜单</strong></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/8.%E8%8F%9C%E5%8D%95%E8%BF%9B%E5%85%A5%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86.png?raw=true"><br></table><p><strong>工作空间管理</strong></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/9.%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86.png?raw=true"><br></table><p>工作空间管理，主要就是<strong>添加、删除、上下移动工程，以及设置“选中”工程为活动（当前使用）工程</strong>。</p><h2 id="5-2-激活工程"><a href="#5-2-激活工程" class="headerlink" title="5.2 激活工程"></a>5.2 激活工程</h2><p>我们工作空间中一般有多个工程，但我们一个时间只能编译、下载、调试一个工程。</p><p>那么，我们就需要选中其中一个作为当前使用的工程，简单说就是需要激活一个工程。</p><p>激活的方法可以在上面工程管理点击“Set as Active Project”实现，也可以通过如下图方式实现：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/10.%E6%BF%80%E6%B4%BB%E5%B7%A5%E7%A8%8B.png?raw=true"><br></table><h2 id="5-3-编译选项"><a href="#5-3-编译选项" class="headerlink" title="5.3 编译选项"></a>5.3 编译选项</h2><p>在该教程3,4中讲述工具栏按钮和菜单时，讲过关于编译的几个选项，其中一个「Batch Build分批编译」就是用于本文的多工程。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/11.%E8%BF%9B%E5%85%A5%E5%88%86%E6%89%B9%E7%BC%96%E8%AF%91%E8%AE%BE%E7%BD%AE.png?raw=true"><br></table><p>进入分批编译设置：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%88%9B%E5%BB%BA%E5%A4%9A%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/12.%E5%88%86%E6%89%B9%E7%BC%96%E8%AF%91%E8%AE%BE%E7%BD%AE.png?raw=true"><br></table><p>如果你勾选了所有工程，编译的时候会把工作空间下所有工程都进行编译。大家试一下就明白，很好理解的。</p><h1 id="六、下载"><a href="#六、下载" class="headerlink" title="六、下载"></a>六、下载</h1><p>为方便大家学习，我这里提供可直接编译运行的源代码工程供大家下载。</p><p>百度网盘下载地址：<a href="https://pan.baidu.com/s/1s_1t7EuvUP0j6ekzizpvVA" target="_blank" rel="noopener">https://pan.baidu.com/s/1s_1t7EuvUP0j6ekzizpvVA</a><br>密码：itly</p><p>GitHub下载地址：<a href="https://github.com/EmbeddedDevelop/Keil-MDK-ARM_Multi-Project.git" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop/Keil-MDK-ARM_Multi-Project.git</a></p><p>（提示：下载链接后期可能会失效， 请关注微信公众号获取最新消息）</p><h1 id="七、说明"><a href="#七、说明" class="headerlink" title="七、说明"></a>七、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【Keil系列教程】即可查看全系列教程。  </p><h1 id="八、最后"><a href="#八、最后" class="headerlink" title="八、最后"></a>八、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;继上一篇文章&lt;a href=&quot;https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%9B%AE%E6%A0%87%E5%B7%A5%E7%A8%8B.html&quot;&gt;《Keil系列教程13_创建多目标工程》&lt;/a&gt;，本文接着讲述&lt;strong&gt;创建多工程的工作空间&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;本文「创建多工程工作空间」主要的内容不多，会讲述一部分&lt;strong&gt;额外的相关内容&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;创建多工程工作空间一般用于项目中有多个工程，&lt;strong&gt;为了统一管理项目&lt;/strong&gt;。一般初学者不常用。&lt;/p&gt;
    
    </summary>
    
      <category term="Keil系列教程" scheme="http://www.strongerhuang.com/categories/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Keil" scheme="http://www.strongerhuang.com/tags/Keil/"/>
    
      <category term="MDK-ARM" scheme="http://www.strongerhuang.com/tags/MDK-ARM/"/>
    
      <category term="µVision" scheme="http://www.strongerhuang.com/tags/%C2%B5Vision/"/>
    
  </entry>
  
  <entry>
    <title>CANOpen系列教程</title>
    <link href="http://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B.html"/>
    <id>http://www.strongerhuang.com/CANOpen/CANOpen系列教程.html</id>
    <published>2018-12-13T02:00:00.000Z</published>
    <updated>2018-12-13T02:18:34.832Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>　　本文对【CANOpen系列教程】做了整理并汇总，会随着该系列教程的更新而更新。</p><p>　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于<a href="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true" target="_blank" rel="noopener">微信公众号【EmbeddedDevelop】</a>，关注微信公众号回复【CANOpen系列教程】即可查看。</p><a id="more"></a><h1 id="二、教程列表"><a href="#二、教程列表" class="headerlink" title="二、教程列表"></a>二、教程列表</h1><p><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B01_%E5%88%9D%E8%AF%86CAN%E4%B8%8ECANOpen%E5%8F%8A%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9.html">CANOpen系列教程01_初识CAN与CANOpen及相关内容</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_%E7%90%86%E8%A7%A3CAN%E6%80%BB%E7%BA%BF%E5%8D%8F%E8%AE%AE.html">CANOpen系列教程02_理解CAN总线协议</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B03_CAN%E6%94%B6%E5%8F%91%E5%99%A8%E5%8A%9F%E8%83%BD%E3%80%81%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%9C%E7%94%A8.html">CANOpen系列教程03_CAN收发器功能、原理及作用</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B04_CAN%E6%80%BB%E7%BA%BF%E6%B3%A2%E7%89%B9%E7%8E%87%E3%80%81%E4%BD%8D%E6%97%B6%E5%BA%8F%E3%80%81%E5%B8%A7%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%A0%BC%E5%BC%8F%E8%AF%B4%E6%98%8E.html">CANOpen系列教程04_CAN总线波特率、位时序、帧类型及格式说明</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B05_CAN%E6%80%BB%E7%BA%BF%E5%90%8C%E6%AD%A5%E4%B8%8E%E4%BD%8D%E5%A1%AB%E5%85%85%E3%80%81%E4%BC%98%E5%85%88%E7%BA%A7%E7%9A%84%E5%86%B3%E5%AE%9A.html">CANOpen系列教程05_CAN总线同步与位填充、优先级的决定</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B06_%E7%BB%93%E5%90%88%E4%BB%A3%E7%A0%81%E7%90%86%E8%A7%A3CAN%E5%BA%95%E5%B1%82%E6%94%B6%E5%8F%91%E6%95%B0%E6%8D%AE%EF%BC%88%E5%90%ABSTM32%E4%BE%8B%E7%A8%8B%EF%BC%89.html">CANOpen系列教程06_结合代码理解CAN底层收发数据（含STM32例程）</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B07_CANOpen%E5%8D%8F%E8%AE%AE%E6%A6%82%E8%BF%B0.html">CANOpen系列教程07_CANOpen协议概述</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B08_CANOpen%E9%80%9A%E4%BF%A1%E6%8E%A5%E5%8F%A3%E5%BC%95%E5%AF%BC%E5%AD%A6%E4%B9%A0.html">CANOpen系列教程08_CANOpen通信接口引导学习</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B09_CANOpen%E5%AF%B9%E8%B1%A1%E5%AD%97%E5%85%B8.html">CANOpen系列教程09_CANOpen对象字典</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B10_%E5%85%B3%E4%BA%8ECanfestival%E5%8F%8A%E5%AF%B9%E8%B1%A1%E5%AD%97%E5%85%B8%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html">CANOpen系列教程10_关于Canfestival及对象字典生成工具环境搭建</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B11_%E6%B7%B1%E5%BA%A6%E5%88%86%E6%9E%90CanFestival_3%E6%9E%B6%E6%9E%84.html">CANOpen系列教程11_深度分析CanFestival_3架构</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B12_%E5%AF%B9%E8%B1%A1%E5%AD%97%E5%85%B8%E7%BC%96%E8%BE%91%E5%99%A8%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E.html">CANOpen系列教程12_对象字典编辑器操作说明</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%B8%80%EF%BC%89.html">CANOpen系列教程13_协议源码移植（一）</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89.html">CANOpen系列教程14_协议源码移植（二）</a><br><a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E.html">CANOpen系列教程15_NMT网络管理和相关源码说明</a></p><p>正在努力更新中，可关注我微信公众号查看最新消息……</p><h1 id="三、说明"><a href="#三、说明" class="headerlink" title="三、说明"></a>三、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【CANOpen系列教程】即可查看全系列教程。  </p><h1 id="四、最后"><a href="#四、最后" class="headerlink" title="四、最后"></a>四、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;　　本文对【CANOpen系列教程】做了整理并汇总，会随着该系列教程的更新而更新。&lt;/p&gt;
&lt;p&gt;　　为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于&lt;a href=&quot;https://github.com/strongerHuang/strongerHuang.github.io/blob/master/images/EmbeddedDevelop.jpg?raw=true&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;微信公众号【EmbeddedDevelop】&lt;/a&gt;，关注微信公众号回复【CANOpen系列教程】即可查看。&lt;/p&gt;
    
    </summary>
    
      <category term="CANOpen系列教程" scheme="http://www.strongerhuang.com/categories/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="CAN" scheme="http://www.strongerhuang.com/tags/CAN/"/>
    
      <category term="CAN总线" scheme="http://www.strongerhuang.com/tags/CAN%E6%80%BB%E7%BA%BF/"/>
    
      <category term="CANOpen" scheme="http://www.strongerhuang.com/tags/CANOpen/"/>
    
      <category term="CanFestival" scheme="http://www.strongerhuang.com/tags/CanFestival/"/>
    
  </entry>
  
  <entry>
    <title>CANOpen系列教程15_NMT网络管理和相关源码说明</title>
    <link href="http://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E.html"/>
    <id>http://www.strongerhuang.com/CANOpen/CANOpen系列教程15_NMT网络管理和相关源码说明.html</id>
    <published>2018-12-13T01:30:00.000Z</published>
    <updated>2018-12-13T02:06:02.279Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>该系列教程13、14讲述了移植相关内容，以及提供给大家可直接编译、下载运行的源码工程，想必你已经掌握了一些基础的知识了。</p><p>在<a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B08_CANOpen%E9%80%9A%E4%BF%A1%E6%8E%A5%E5%8F%A3%E5%BC%95%E5%AF%BC%E5%AD%A6%E4%B9%A0.html">《CANOpen系列教程08_CANOpen通信接口引导学习》</a>中，引导大家参看<strong>《CANopen轻松入门》</strong>通信接口的相关知识。而没有在文中具体描述关于<strong>CANOpen通信接口</strong>的知识。</p><p>原因在于通信接口的内容太多，单纯的去看这些内容，容易让人产生更多困惑。</p><p>对于程序员来说，<strong>结合源代码来理解相关理论知识更加容易</strong>。所以，我将其留在了这后面来讲述。</p><p>下面结合移植好的源代码，讲述<strong>CANOpen网络管理（NMT：Network management）</strong>的相关知识。</p><a id="more"></a><h1 id="二、关于网络管理NMT"><a href="#二、关于网络管理NMT" class="headerlink" title="二、关于网络管理NMT"></a>二、关于网络管理NMT</h1><p>在CANOpen网络中，分主站和从站，而通常由主站来管理整个网络。比如：复位、停止等。</p><p>《CANopen轻松入门》中军队的例子说的很好：一个军队，如果没有指挥员来管理，下面士兵岂不乱套了。</p><p>例子中<strong>指挥员就是CANOpen中的网络管理主站，士兵就是从站</strong>。</p><p>重要的一点：<strong>每个 CANopen 从节点的 CANopen 协议栈中，必须具备 NMT 管理的相应代码</strong>。也就是说从站是被接收管理。</p><p>当然，我们使用的Canfestival这套免费框架，大家不必担心，肯定是具有相关代码，我们需要明白怎么使用这套源码即可。</p><h1 id="三、NMT网络管理节点状态"><a href="#三、NMT网络管理节点状态" class="headerlink" title="三、NMT网络管理节点状态"></a>三、NMT网络管理节点状态</h1><h2 id="3-1-6种节点状态"><a href="#3-1-6种节点状态" class="headerlink" title="3.1 6种节点状态"></a>3.1 6种节点状态</h2><p>NMT网络管理主要包含以下<strong>6种状态</strong>：<br><strong>1.初始化（Initializing）：</strong>节点上电后对功能部件包括 CAN 控制器进行初始化；</p><p><strong>2.应用层复位（Application Reset）：</strong>节点中的应用程序复位（开始），比如开关量输出、模拟量输出的初始值；</p><p><strong>3.通讯复位（Communication reset）：</strong>节点中的CANopen通讯复位（开始），从这个时刻起，此节点就可以进行CANopen通讯了；</p><p><strong>4.预操作状态（Pre-operational）：</strong>节点的CANopen通讯处于操作就绪状态，此时此节点不能进行PDO通信，而可以进行SDO进行参数配置和NMT网络管理的操作；</p><p><strong>5.操作状态（operational）：</strong>节点收到NMT主机发来的启动命令后， CANopen通讯被激活， PDO通信启动后， 按照对象字典里面规定的规则进行传输，同样SDO也可以对节点进行数据传输和参数修改；</p><p><strong>6.停止状态（Stopped）： </strong>节点收到NMT主机发来的停止命令后，节点的PDO通信被停止，但SDO和NMT网络管理依然可以对节点进行操作；</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E/1.%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E7%8A%B6%E6%80%81.png?raw=true"><br></table><p>NMT网络管理6种状态如上图所示，其中1 — 15各处代表含义：<br><strong>(1)：</strong>Power on上电初始化</p><p><strong>(2)：</strong>Automatic switch to Pre-operational自动切换预操作状态</p><p><strong>(3) 、(6)：</strong>NMT switch to Operational网络管理切换到操作状态</p><p><strong>(4)、(7)：</strong>NMT switch to Pre-operational网络管理切换到预操作状态</p><p><strong>(5)、(8)：</strong>NMT switch to Stopped网络管理切换到停止状态</p><p><strong>(9)、(10)、(11)：</strong>NMT switch to Application reset网络管理切换到应用层复位状态</p><p><strong>(12)、(13)、(14)：</strong>NMT switch to Communication reset网络管理切换到通讯复位状态</p><p><strong>(15)：</strong>Power-off or hardware reset掉电或硬件复位</p><h2 id="3-2-源码说明"><a href="#3-2-源码说明" class="headerlink" title="3.2 源码说明"></a>3.2 源码说明</h2><p>通过上面描述，需要知道两点重要内容：<strong>主站进行网络管理，网络各个节点有多种状态</strong>。当然，一个时刻只能一种状态。</p><p>在Canfestival框架源码中，主站可通过<strong>masterSendNMTstateChange</strong>这个函数接口来管理网络节点的状态。可以理解为：<strong>主站控制，或切换从站节点的状态</strong>。</p><p>这里需要理解masterSendNMTstateChange这个函数接口的用法，也就是说接口含义，以及参数。</p><p>比如：主站上电之后，让网络中节点0x01复位：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E/2.%E4%B8%BB%E7%AB%99%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%EF%BC%8C%E5%A4%8D%E4%BD%8D%E8%8A%82%E7%82%B9.png?raw=true"><br></table><p>这里我们结合<a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%B8%80%EF%BC%89.html">《CANOpen系列教程13》</a>提供的代码基础上，添加一行管理节点0x01的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">masterSendNMTstateChange(&amp;TestMaster_Data, 0x01, NMT_Reset_Node);</span><br></pre></td></tr></table></figure></p><p><strong>第1个参数TestMaster_Data：</strong>主站对象字典<br><strong>第2个参数0x01：</strong>节点（从站）ID<br><strong>第3个参数NMT_Reset_Node：</strong>复位节点</p><p>第1,2个参数很好理解，第3个参数是通过宏定义在def.h中，总共5种状态，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E/3.%E8%8A%82%E7%82%B9%E7%8A%B6%E6%80%81%E5%AE%8F%E5%AE%9A%E4%B9%89.png?raw=true"><br></table><p>写到这里，相信大家对网络管理节点有一定认识了，初学者可以多结合代码理解。</p><h1 id="四、NMT网络管理节点上线报文"><a href="#四、NMT网络管理节点上线报文" class="headerlink" title="四、NMT网络管理节点上线报文"></a>四、NMT网络管理节点上线报文</h1><p>该教程上一篇文章末尾讲述运行效果时，提供了一张运行时CAN总线数据的截图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/10.%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%EF%BC%88%E6%80%BB%E7%BA%BF%E6%95%B0%E6%8D%AE%EF%BC%89.png?raw=true"><br></table><p>任何一个 CANopen 从站上线后，为了提示主站它已经加入网络（便于热插拔），或者避免与其他从站 Node-ID 冲突。这个从站必须发出节点上线报文（boot-up）。</p><p>节点上线报文的 ID 为：<strong>700h + Node-ID</strong>， 数据规定为<strong>0</strong>。 生产者（Producer）为 CANopen 从站。如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E/4.%E4%B8%8A%E7%BA%BF%E6%8A%A5%E6%96%87.png?raw=true"><br></table><h1 id="五、NMT网络管理心跳报文"><a href="#五、NMT网络管理心跳报文" class="headerlink" title="五、NMT网络管理心跳报文"></a>五、NMT网络管理心跳报文</h1><p>为了<strong>监控 CANopen 节点是否在线与目前的节点状态</strong>。 CANopen 应用中通常都要求在线上电的从站定时发送状态报文（心跳报文），以便于主站确认从站是否故障、是否脱离网络。</p><p>格式：<br><strong>CAN-ID：</strong>700h + Node-ID<br><strong>数据：</strong>一字节状态</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B15_NMT%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%92%8C%E7%9B%B8%E5%85%B3%E6%BA%90%E7%A0%81%E8%AF%B4%E6%98%8E/5.%E5%BF%83%E8%B7%B3%E6%8A%A5%E6%96%87.png?raw=true"><br></table><p>在<a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%B8%80%EF%BC%89.html">《CANOpen系列教程13》</a>提供例程中，就是包含一个心跳报文。心跳报文比较简单，请结合上图理解。</p><p><strong>注意：</strong><br>1.CANopen从站按其<strong>对象字典中 1017h 中填写的心跳生产时间</strong>（ms）进行心跳报文的发送。</p><p>2.CANopen主站则会按其 <strong>1016h 中填写的心跳消费时间进行检查</strong>，假设超过诺干次心跳消费时间没有收到从站的心跳报文，则认为从站已经离线或者损坏。</p><p>还有一些网络管理相关内容，大家可以结合这种思路去理解，建议参看：<br><strong>1.CiA 301 V4.2.0网络管理章节</strong><br><strong>2.周立功的CANOpen轻松入门</strong></p><h1 id="六、说明"><a href="#六、说明" class="headerlink" title="六、说明"></a>六、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【CANOpen系列教程】即可查看全系列教程。  </p><h1 id="七、最后"><a href="#七、最后" class="headerlink" title="七、最后"></a>七、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;该系列教程13、14讲述了移植相关内容，以及提供给大家可直接编译、下载运行的源码工程，想必你已经掌握了一些基础的知识了。&lt;/p&gt;
&lt;p&gt;在&lt;a href=&quot;https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B08_CANOpen%E9%80%9A%E4%BF%A1%E6%8E%A5%E5%8F%A3%E5%BC%95%E5%AF%BC%E5%AD%A6%E4%B9%A0.html&quot;&gt;《CANOpen系列教程08_CANOpen通信接口引导学习》&lt;/a&gt;中，引导大家参看&lt;strong&gt;《CANopen轻松入门》&lt;/strong&gt;通信接口的相关知识。而没有在文中具体描述关于&lt;strong&gt;CANOpen通信接口&lt;/strong&gt;的知识。&lt;/p&gt;
&lt;p&gt;原因在于通信接口的内容太多，单纯的去看这些内容，容易让人产生更多困惑。&lt;/p&gt;
&lt;p&gt;对于程序员来说，&lt;strong&gt;结合源代码来理解相关理论知识更加容易&lt;/strong&gt;。所以，我将其留在了这后面来讲述。&lt;/p&gt;
&lt;p&gt;下面结合移植好的源代码，讲述&lt;strong&gt;CANOpen网络管理（NMT：Network management）&lt;/strong&gt;的相关知识。&lt;/p&gt;
    
    </summary>
    
      <category term="CANOpen系列教程" scheme="http://www.strongerhuang.com/categories/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="CAN" scheme="http://www.strongerhuang.com/tags/CAN/"/>
    
      <category term="CAN总线" scheme="http://www.strongerhuang.com/tags/CAN%E6%80%BB%E7%BA%BF/"/>
    
      <category term="CANOpen" scheme="http://www.strongerhuang.com/tags/CANOpen/"/>
    
      <category term="CanFestival" scheme="http://www.strongerhuang.com/tags/CanFestival/"/>
    
  </entry>
  
  <entry>
    <title>CANOpen系列教程14_协议源码移植（二）</title>
    <link href="http://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89.html"/>
    <id>http://www.strongerhuang.com/CANOpen/CANOpen系列教程14_协议源码移植（二）.html</id>
    <published>2018-12-13T01:00:00.000Z</published>
    <updated>2018-12-13T02:15:19.029Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、写在前面"><a href="#一、写在前面" class="headerlink" title="一、写在前面"></a>一、写在前面</h1><p>该系列教程上一篇文章<a href="https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%B8%80%EF%BC%89.html">《协议源码移植（一）》</a>算是对CANOpen移植的准备工作，如果想要理解移植过程的知识，其实还有许多内容得了解。</p><p>本文挑一些重点来讲述，从协议源码添加到工程，源代码理解，到最后输出效果。</p><p><strong>提示：</strong>该系列教程基于：CanFestival架构、STM32F1芯片、FreeRTOS操作系统、Keil MDK-ARM开发环境。</p><a id="more"></a><h1 id="二、添加源码、路径"><a href="#二、添加源码、路径" class="headerlink" title="二、添加源码、路径"></a>二、添加源码、路径</h1><p>本节内容针对初学者做出简要描述，相关内容可参看文章<a href="https://www.strongerhuang.com/Keil/Keil%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_%E6%96%B0%E5%BB%BA%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B.html">《Keil系列教程02_新建基础软件工程》</a>。</p><h2 id="2-1-添加组、文件"><a href="#2-1-添加组、文件" class="headerlink" title="2.1 添加组、文件"></a>2.1 添加组、文件</h2><p>简单来说，就是在你已建好的工程中添加与CANOpen相关的组和文件，如下图：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/1.%E6%B7%BB%E5%8A%A0%E7%BB%84%E3%80%81%E6%96%87%E4%BB%B6.png?raw=true"><br></table><h2 id="2-2-添加路径"><a href="#2-2-添加路径" class="headerlink" title="2.2 添加路径"></a>2.2 添加路径</h2><p>添加CANOpen源码的inc头文件等相关路径，编译的时候才能找到对应文件。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/2.%E6%B7%BB%E5%8A%A0%E8%B7%AF%E5%BE%84.png?raw=true"><br></table><h1 id="三、添加代码及分析"><a href="#三、添加代码及分析" class="headerlink" title="三、添加代码及分析"></a>三、添加代码及分析</h1><p>移植的重要过程就是添加、删除和修改源代码这一步骤。从教程上一篇文章下载，并看过源代码的朋友就会发现，其实我们需要添加的代码并不多，<strong>主要就是需要实现几个底层的驱动函数</strong>。</p><p>下面将重要的几点罗列出来。</p><h2 id="1-修改canfestival-h文件"><a href="#1-修改canfestival-h文件" class="headerlink" title="1.修改canfestival.h文件"></a>1.修改canfestival.h文件</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/3.%E4%BF%AE%E6%94%B9canfestival.h%E6%96%87%E4%BB%B6.png?raw=true"><br></table><p>上文说了一下：添加三行语句，防止递归包含。</p><p>这里就是CANOpen定义的底层驱动接口，接口函数具体代码需要我们自己实现。</p><p><strong>canSend</strong>这个函数被CANOpen源代码调用的最多，我们最好不修改函数接口，同时需要我们实现（我在canopen_drv.c中实现的）。</p><p>其它<strong>initTimer、 canInit</strong>等函数接口，在源码中没有调用，我也没有按照这套接口来实现（初始化我在bsp下实现的）。</p><h2 id="2-底层驱动初始化代码"><a href="#2-底层驱动初始化代码" class="headerlink" title="2.底层驱动初始化代码"></a>2.底层驱动初始化代码</h2><p>上面说的initTimer、 canInit初始化，我这边为了与我代码一致，使用<strong>TIM_Initializes、CAN_Initializes</strong>替代。</p><p>分别位于<strong>bsp_timer.c 和 bsp_can.c</strong>下面，实现的具体内容这里不描述，具体可以下载源码工程参看。</p><h2 id="3-定时器调度相关接口"><a href="#3-定时器调度相关接口" class="headerlink" title="3.定时器调度相关接口"></a>3.定时器调度相关接口</h2><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/4.%E5%AE%9A%E6%97%B6%E5%99%A8%E8%B0%83%E5%BA%A6%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3.png?raw=true"><br></table><p>其中<strong>setTimer和getElapsedTime</strong>这两个函数会被timer.c协议源文件调用。在timer.h里面有什么（如下图），但函数体没有实现，需要我们自己实现。</p><p>同时，TimeDispatch函数已经实现，定义在timer.c，但需要被定时调用（调度）。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/6.CAN%E5%8F%91%E9%80%81%E6%8E%A5%E5%8F%A3%E5%87%BD%E6%95%B0.png?raw=true"><br></table><h2 id="4-CAN发送接口函数canSend"><a href="#4-CAN发送接口函数canSend" class="headerlink" title="4.CAN发送接口函数canSend"></a>4.CAN发送接口函数canSend</h2><p>这个CAN发送函数相当重要，接口最好不要自定义，因为scr下面多个源文件都调用了该函数。</p><p>同时，发送函数会被定时调度。所以，如果你调度方式像我例程那样，使用定时器中断的方式实现。那么，你就<strong>要考虑在中断函数里面发送的情况</strong>。</p><p>以上就是CANOpen移植，底层驱动相关的一些接口实现和说明。这部分内容，CanFestival框架提供源码是定义在drivers下面，比如STM32F1的就是cm3下面的cm3.c：</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/7.cm3.png?raw=true"><br></table><p>我单独提出来实现这些驱动函数是因为我跑了一个FreeRTOS系统。当然，你的驱动也可按照drivers下面那样实现。</p><h2 id="5-其它"><a href="#5-其它" class="headerlink" title="5.其它"></a>5.其它</h2><p><strong>A.发送和接收缓存</strong><br>我这边是通过队列来实现发送和接收缓存，而cm3.c是通过MessBuf_Write和MessBuf_Read来实现缓存。</p><p><strong>B.中断接收</strong><br>我使用CAN中断接收数据，和定时器中断调度。</p><p><strong>提示：</strong>我中断入口函数是宏定义实现的，需要包含宏定义头文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#define CAN_RX_IRQHandler  USB_LP_CAN1_RX0_IRQHandler</span><br><span class="line">#define CANOPEN_TIM_IRQ_Handler TIM2_IRQHandler</span><br></pre></td></tr></table></figure></p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/8.%E4%B8%AD%E6%96%AD.png?raw=true"><br></table><p><strong>C.配置节点</strong><br>配置节点ID，节点的状态，这里只是简单的Demo，没有添加应用代码。</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/9.%E9%85%8D%E7%BD%AE%E8%8A%82%E7%82%B9.png?raw=true"><br></table><h1 id="四、工程下载及运行效果"><a href="#四、工程下载及运行效果" class="headerlink" title="四、工程下载及运行效果"></a>四、工程下载及运行效果</h1><h2 id="1-下载工程“CANOpen工程模板（含主、从站-心跳）”"><a href="#1-下载工程“CANOpen工程模板（含主、从站-心跳）”" class="headerlink" title="1.下载工程“CANOpen工程模板（含主、从站-心跳）”"></a>1.下载工程“CANOpen工程模板（含主、从站-心跳）”</h2><p><a href="https://pan.baidu.com/s/1LzD0Epc-Z8vlHsb-sD3WVw" target="_blank" rel="noopener">https://pan.baidu.com/s/1LzD0Epc-Z8vlHsb-sD3WVw</a><br>提取码：l2dc</p><p>提示：如果链接失效，公众号回复【CANOpen系列教程】获取更新链接；</p><h2 id="2-运行效果"><a href="#2-运行效果" class="headerlink" title="2.运行效果"></a>2.运行效果</h2><p>我提供的这个Demo工程是一个只有心跳（间隔时间我们配置的1000ms），所以，启动之后，你会发现<strong>总线上间隔1秒有一个心跳</strong>。</p><p>下图是我通过CAN分析仪抓取的CAN总线数据（如果你没有分析仪，可以用我系列教程6提供的例程，通过串口打印）</p><table><br><img align="left" width="600" src="https://github.com/strongerHuang/strongerHuang.github.io/blob/master/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B14_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%BA%8C%EF%BC%89/10.%E8%BF%90%E8%A1%8C%E6%95%88%E6%9E%9C%EF%BC%88%E6%80%BB%E7%BA%BF%E6%95%B0%E6%8D%AE%EF%BC%89.png?raw=true"><br></table><p>这是先启动一会儿主站，然后关闭，再启动从站的数据，重要信息我都标记出来了。<br><strong>A.上线报文：</strong>ID：0x700  Data：0</p><p><strong>B.网络管理：</strong>ID：0x000  Data：00代表管理所有节点 Data：80代表复位节点</p><p><strong>C.心跳报文：</strong>ID：0x700  Data：05代表Operational操作状态</p><p><strong>提示：</strong>主站具有网络管理，而从站没有。同时，数据值（如81、05）的含义可参看CiA 301手册网络管理的章节（后期进行讲述）。</p><h1 id="五、说明"><a href="#五、说明" class="headerlink" title="五、说明"></a>五、说明</h1><p>1.该文档仅供个人学习使用，版权所有，禁止商用。</p><p>2.本文由我一个人编辑并整理，难免存在一些错误。</p><p>3.为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该教程同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【CANOpen系列教程】即可查看全系列教程。  </p><h1 id="六、最后"><a href="#六、最后" class="headerlink" title="六、最后"></a>六、最后</h1><p>我的博客：<a href="http://www.strongerhuang.com">http://www.strongerhuang.com</a><br>我的GitHub：<a href="https://github.com/EmbeddedDevelop" target="_blank" rel="noopener">https://github.com/EmbeddedDevelop</a></p><p>　　我的微信公众号（ID：strongerHuang）还在分享STM8、STM32、Keil、IAR、FreeRTOS、UCOS、RT-Thread、CANOpen、Modbus…等更多精彩内容，如果想查看更多内容，可以关注我的微信公众号。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;一、写在前面&quot;&gt;&lt;a href=&quot;#一、写在前面&quot; class=&quot;headerlink&quot; title=&quot;一、写在前面&quot;&gt;&lt;/a&gt;一、写在前面&lt;/h1&gt;&lt;p&gt;该系列教程上一篇文章&lt;a href=&quot;https://www.strongerhuang.com/CANOpen/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B13_%E5%8D%8F%E8%AE%AE%E6%BA%90%E7%A0%81%E7%A7%BB%E6%A4%8D%EF%BC%88%E4%B8%80%EF%BC%89.html&quot;&gt;《协议源码移植（一）》&lt;/a&gt;算是对CANOpen移植的准备工作，如果想要理解移植过程的知识，其实还有许多内容得了解。&lt;/p&gt;
&lt;p&gt;本文挑一些重点来讲述，从协议源码添加到工程，源代码理解，到最后输出效果。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;提示：&lt;/strong&gt;该系列教程基于：CanFestival架构、STM32F1芯片、FreeRTOS操作系统、Keil MDK-ARM开发环境。&lt;/p&gt;
    
    </summary>
    
      <category term="CANOpen系列教程" scheme="http://www.strongerhuang.com/categories/CANOpen%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="CAN" scheme="http://www.strongerhuang.com/tags/CAN/"/>
    
      <category term="CAN总线" scheme="http://www.strongerhuang.com/tags/CAN%E6%80%BB%E7%BA%BF/"/>
    
      <category term="CANOpen" scheme="http://www.strongerhuang.com/tags/CANOpen/"/>
    
      <category term="CanFestival" scheme="http://www.strongerhuang.com/tags/CanFestival/"/>
    
  </entry>
  
</feed>
