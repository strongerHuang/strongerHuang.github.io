<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[EWSTM8系列教程02_新建基础软件工程]]></title>
    <url>%2FIAR%2FEWSTM8%2FEWSTM8%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B02_%E6%96%B0%E5%BB%BA%E5%9F%BA%E7%A1%80%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B.html</url>
    <content type="text"><![CDATA[一、写在前面 我们常说的IAR for STM8，其实指的就是EWSTM8，它的全称是IAR Embedded Workbench for STM8。 本文针对初学者，利用EWSTM8集成开发环境，基于STM8S标准外设库新建基础软件工程。（后面会讲述如何新建多工程、多目标） 本文分如下内容来讲述： 1.准备工作 下载安装EWSTM8 下载STM8标准外设库 整理工程文件夹 2.新建软件工程 创建工程 添加文件 配置工程 本文章收录于【EWSTM8系列教程】，在我的博客分类“EWSTM8系列教程”也能查找到。 为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【EWSTM8系列教程】即可查看。 二、准备工作 俗话说“磨刀不误砍柴工”，做好了准备工作，后面新建基础软件工程的工作就很容易实现了。 2.1 下载安装EWSTM8 详情请参看该系列教程上一篇文章【EWSTM8系列教程01_IAR介绍、下载、安装和注册】。 2.2 下载STM8标准外设库 本文基于STM8标准外设库（STM8S_StdPeriph_Lib）来新建基础软件工程，所以需要下载标准库。如果你不使用标准外设库（如：使用寄存器）开发，本节内容可以略过。 A.官网下载https://www.st.com/content/st_com/en/products/embedded-software/mcus-embedded-software/stm8-embedded-software/stsw-stm8069.html 提示：在官网下载需要登录账户，如果嫌麻烦可以在ST中文网，或下面百度网盘下载（和官网一样）。 B.百度网盘http://pan.baidu.com/s/1qYbBKMK 提示：如果以上链接失效， 可以关注微信公众号， 获取更新链接。 2.3 整理工程文件夹 这一小节的内容可根据自己习惯来整理，我整理的文件及文件夹结构是按照常规的整理方式。你如果觉得合理，可以直接引用；如果觉得不习惯这个结构方式，可以自己整理。 本节所讲述的文件夹及里面的内容不是本文新建软件工程的重点，若需要详细了解库文件、文件夹及里面源代码内容，可以参看我的另一教程【STM8S标准外设库教程】。 A.新建工程文件夹首先建立一个存放工程文件的文件夹：STM8S_Demo B.提取ST标准外设库文件解压下载的标准外设库（STM8S_StdPeriph_Lib）可以看见下面四个文件夹和参考资料： _htmresc：图片文件夹（不提取）Libraries：标准驱动库（提取大部分）Project： 示例工程（提取少部分）Utilities：公共代码、评估板代码（不提取）MCD-ST Liberty：软件许可协议（不提取）Release_Notes：发行说明stm8s-a_stdperiph_lib_um：库说明文档 ST官网下载的标准外设库里面有很多例程源代码和其他文件，但我们主要使用Libraries目录下STM8S_StdPeriph_Driver源代码，其他参考文件用于开发学习时参考使用。1.拷贝Libraries文件夹到我们的STM8S_Demo工程文件夹下面。2.拷贝STM8S_StdPeriph_Lib\Project\STM8S_StdPeriph_Template下面stm8s_conf.h、stm8s_it.c和stm8s_it.h三个文件到我们STM8S_Demo \ App下面。 C.新建文件夹和文件除了标准外设库文件之外，我们需要新建存放自己代码的文件和文件夹。我这里主要需要新建4个文件夹：App: 应用程序代码Bsp: 底层驱动代码Doc: 说明文档Project：工程文件 在自己新建的文件夹下面还需要新建自己的文件，文件里面添加必要的源代码文件。我提供的Demo工程，实现的功能比较简单，就是一个LED闪烁。本文重点讲述建立工程的过程，这里不描述源代码，具体可以自己下载查看。 上面几个步骤完成之后，我们就可以看到在工程文件夹“STM8S_Demo”下面整理的文件夹（如下图）： 至此，准备工作算完成了，上面提取的文件、新建的文件里面具体的内容请下载Demo工程查看（文末下载）。 三、新建软件工程 新建一个简单、基础的软件工程大概需要有三个步骤：创建工程、添加文件和配置工程。 上面的准备工作做好之后，就可以在Project文件夹下新建自己的软件工程了，下面将一步一步讲述从零开始新建一个软件工程的详细过程。 3.1 创建工程创建工程：就是新建工作空间及工程，步骤比较简单。 A.打开软件，新建工作空间（File -&gt; New Workspace） B.新建工程（Project -&gt;Create New Project） C.创建一个空工程 D.选择保存路径、名称 E.空基础工程 F.保存工作空间（File -&gt; Save Workspace） 至此，一个空的基础工程就创建好了，需要进一步添加文件到工程和配置工程。 3.2 添加文件 准确的来说，是在上面创建的空工程中添加组（文件夹）和添加源代码文件。简单的说，就是将你自己的源代码文件（前面提取的库、新建的文件等）添加到工程中。 这里的工程项目管理可根据自己的想法来定义（类似于自己分类、命名文件夹和文件），我这里按照常规的方式进行管理项目。 为了方便大家理解，我们单级目录方式分组，先在工程中添加组，再在组中添加源代码文件。 A.工程中添加组 B.填写组的名称 C.组中添加文件 D.按住Ctrl，鼠标选中要添加的文件 E.重复上面4个步骤，直到添加完成 3.3 配置工程 配置工程对于初学者来说，大部分内容只需要默认即可，这里只讲述几个常见的配置，能满足基本的功能。更多配置将在该教程后面的文章中讲述。 A.进入配置选项 B.选择器件 C.库配置Library Configration如果需要使用某些标准的库函数接口（如我们使用的printf 、scanf），就需要选择Full（见下图）。 D.预处理Preprocessor（添加路径）添加的路径最好是相对路径，而不是绝对路径。使用绝对路径工程位置改变之后就找不到文件，就会出错。 1.可以点击按钮选择路径；2.或者通过复制文件路径进行配置。 未完待续······ 六、说明1.该文档仅供个人学习使用，版权所有，禁止商用。2.本文主要针对个人学习使用的朋友，若你是商业用途，建议购买正版软件。3.上述内容仅供参考，如有不正确，或不清楚的朋友可以微信公众号联系我。 七、最后我的博客：http://www.strongerhuang.com我的GitHub：https://github.com/EmbeddedDevelop 更多精彩文章我将第一时间在微信公众号里面分享， 如果不想错过,可以关注我的微信公众号。]]></content>
      <categories>
        <category>EWSTM8系列教程</category>
      </categories>
      <tags>
        <tag>IAR</tag>
        <tag>STM8</tag>
        <tag>EWSTM8</tag>
        <tag>IAR for STM8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EWSTM8系列教程01_EWSTM8介绍、下载、安装和注册]]></title>
    <url>%2FIAR%2FEWSTM8%2FEWSTM8%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B01_IAR%E4%BB%8B%E7%BB%8D%E3%80%81%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E5%92%8C%E6%B3%A8%E5%86%8C.html</url>
    <content type="text"><![CDATA[一、写在前面 我们常说的IAR for STM8，其实指的就是EWSTM8，它的全称是IAR Embedded Workbench for STM8。 本文章收录于【EWSTM8系列教程】，在我的博客分类“EWSTM8系列教程”也能查找到。 为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【EWSTM8系列教程】即可查看。 二、IAR介绍2.1 关于IAR IAR是一家公司的名称，也是一种集成开发环境（IDE）的名称，我们平时所说的IAR主要是指的集成开发环境，当然，我们也称它为一种工具：IAR开发工具。 IAR这家公司的发展也是经历了一系列历史变化，从开始针对8051做C编译器，逐渐发展至今，已经是一家庞大的、技术力量雄厚的公司。而IAR集成开发环境也是从单一到现在针对不同处理器，拥有多种IAR版本的集成开发环境。 IAR针对不同内核处理器，有不同的集成开发环境，本文讲述的只是其中的一款集成开发环境EWSTM8，而IAR拥有多个版本，支持的芯片有上万种，详情请参看官网：https://www.iar.com/device-search/#!?tab=devices 2.2 关于EWSTM8 EWSTM8全称是IAR Embedded Workbench for STM8，其实也是我们常说的IAR for STM8，即（用于开发STM8的）嵌入式工作平台。 Embedded Workbench for STM8是IAR Systems公司为 STM8 微处理器开发的一个集成开发环境(简称IAR EWSTM8，也简称为IAR for STM8)。比较其他的 STM8 开发环境，IAR EWSTM8 具有入门容易、使用方便和代码紧凑等特点。 2.3 EWSTM8支持芯片现在（2018年07月）EWSTM8最新版本V3.10，支持市面上所有的STM8系列芯片，目前有一百多种（184种），具体可以到IAR官方网站查看。 https://www.iar.com/device-search/#!?tab=devices 三、下载EWSTM8这个软件安装包推荐大家到官网下载最新版本。当然，如果你嫌麻烦，也可以到我百度网盘下载（含老版本，定期更新）。 3.1 官方下载目前（2018年07月）EWSTM8官方最新版本是V3.10。下载地址：https://www.iar.com/iar-embedded-workbench/#!?currentTab=free-trials 3.2 网盘下载为了方便大家下载，我将其安装包上传到百度云盘。当然，我会定期更新，里面也包含之前老版本，建议大家下载最新那一个版本。 百度网盘地址：http://pan.baidu.com/s/1slF5kYx 提示：如果网盘链接失效，可以关注微信公众号，获取更新链接。 四、安装 EWSTM8集成开发环境的安装比较简单（基本上就是一路Next下去）。本章节主要针对初学者，按照常规安装教程（图文）讲述一下吧，以下载最新的“EWSTM8-3104-Autorun.exe”软件安装包为例来讲述。 4.1 准备过程A.双击EWSTM8安装包，准备安装 B.选择EWSTM8安装 4.2 安装向导、配置C.进入安装向导 D.选择接受许可 E.选择安装路径 安装路径一般默认，你也可以修改到你指定路径下。 F.选择需要安装的驱动 一般也默认都勾选。提示：这里勾选了的驱动，会在后面安装。默认有多个，所以后面会安装多个。 G.选择安装文件夹 默认新建一个文件夹。 4.3 安装EWSTM8H.安装准备就绪 如果准备好之后，点击Install进入安装过程。如果前面配置不对，可以点击Back返回修改。 I.等待安装完成 4.4 安装驱动EWSTM8安装完成之后，接下来就是安装驱动，如果上面勾选多个，那么这里就会弹出多个驱动等待安装（与上面配置有关）。 J.安装驱动提示 K.准备安装过程 L.安装ST-Link···这里会安装多个驱动，大致都差不多，根据提示操作就行。··· M.安装完成 安装完成之后，可能会弹出注册许可向导（License Wizard），此时，选择取消 -&gt; 确定就行。 五、注册EWSTM8是一款收费的商业软件，若你用于商业请购买正版。如果是个人学习，可以使用官方30天的免费试用版本。 本文主要针对个人学习的朋友而言，进行非商业用途的使用。以下所有注册信息来自网络，如有侵权，请联系作者删除。 上面百度网盘提供下载的地址里面有一个“IAR注册机.zip”压缩文件，本章将利用该注册机进行注册。 IAR的注册过程有点绕，先讲一下主要步骤：打开IAR软件 -&gt; 注册界面 -&gt; 到输入许可号 -&gt; 转到注册机（获取许可号） -&gt; 回来粘贴许可号 -&gt; 保存激活信息 -&gt; 到等待激活 - &gt; 转到注册机（利用激活信息）生成激活文件 -&gt; 回来打开激活文件注册 -&gt; 成功。 5.1 打开软件 -&gt; 进入注册许可管理界面A.打开安装好的EWSTM8软件：Help -&gt; License Manager进入许可管理 B.弹出许可向导：1取消 -&gt; 2确定即可 C.进入许可管理 此时，看到有个红色的“×”，说明未注册。 5.2 打开离线激活 -&gt; 得到并粘贴许可号D.离线激活方式： License -&gt; Offline Activation 进入离线激活界面 E.打开注册机获取注册号 (1)选择IAR类型（STM8）； (2)获取许可号； (3)复制许可号 F.粘贴许可号 5.3 保存激活信息 -&gt; 到等待激活G.生成并保存激活信息ActivationInfo.txt H.进入等待激活界面 5.4 生成激活文件 -&gt; 激活I.生成激活文件 转到注册机：(1)打开前面（路径下）生成的激活信息文件(2)点击激活 -&gt; 保存激活文件（ActivationResponse.txt）到相同路径下。 J.激活 -&gt; 完成 K.弹出提示 L.查看状态 至此，注册已经完成了。 六、说明1.该文档仅供个人学习使用，版权所有，禁止商用。2.本文主要针对个人学习使用的朋友，若你是商业用途，建议购买正版软件。3.上述内容仅供参考，如有不正确，或不清楚的朋友可以微信公众号联系我。 七、最后我的博客：http://www.strongerhuang.com我的GitHub：https://github.com/EmbeddedDevelop 更多精彩文章我将第一时间在微信公众号里面分享， 如果不想错过,可以关注我的微信公众号。]]></content>
      <categories>
        <category>EWSTM8系列教程</category>
      </categories>
      <tags>
        <tag>IAR</tag>
        <tag>STM8</tag>
        <tag>EWSTM8</tag>
        <tag>IAR for STM8</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[公告]]></title>
    <url>%2F%E8%AF%B4%E6%98%8E%E6%96%87%E7%AB%A0%2F%E5%85%AC%E5%91%8A.html</url>
    <content type="text"><![CDATA[一、博客搬家了 欢迎您来到我个人的新博客网站··· 1.1 原CSDN博客 由于我原来的【CSDN博客】文章比较杂乱，也没有整理归类，不方便查找，文章中提供的代码工程下载地址都失效了。还有个主要原因，在别人地盘写文章总觉得不爽。所以，决定自己搭建博客，在自己的地盘写出属于自己的博客文章。 我的CSDN博客目前没有更新文章了，最后一次更新文章应该是停留在去年八九月份的样子，所以那个时候都有计划搭建属于自己的博客了。后续可能很少在CSDN上面更新文章了（兴许哪一天高兴了，会整理一下CSDN博客）。 原CSDN博客主页：https://blog.csdn.net/ybhuangfugui 1.2 我的新博客 其实，我去年就打算自己搭建博客，但是由于工作原因，没有足够的时间（自己搭建博客也是挺折腾的），一直耽搁了。直到今年，终于狠下心，搭建成功了属于自己的个人博客网站。 个人新博客主页：http://www.strongerhuang.com 二、后续计划 我的博客文章正在筹备更新中。。。关注我微信公众号：strongerhuang，随时查看最新通知。]]></content>
      <categories>
        <category>说明文章</category>
      </categories>
      <tags>
        <tag>说明</tag>
        <tag>公告</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[EWSTM8系列教程]]></title>
    <url>%2FIAR%2FEWSTM8%2FEWSTM8%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B.html</url>
    <content type="text"><![CDATA[一、写在前面 本文对【EWSTM8系列教程】做了整理并汇总，会随着系列教程的更新而更新。 为了方便大家平时公交、地铁、外出办事也能用手机随时随地查看该教程，该系列教程也同步更新于微信公众号【EmbeddedDevelop】，关注微信公众号回复【EWSTM8系列教程】即可查看。 二、教程列表1.EWSTM8系列教程01_IAR介绍、下载、安装和注册 2.EWSTM8系列教程02_新建基础软件工程]]></content>
      <categories>
        <category>EWSTM8系列教程</category>
      </categories>
      <tags>
        <tag>IAR</tag>
        <tag>STM8</tag>
        <tag>EWSTM8</tag>
        <tag>IAR for STM8</tag>
      </tags>
  </entry>
</search>
